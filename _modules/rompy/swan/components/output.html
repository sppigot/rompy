
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rompy.swan.components.output &#8212; rompy 0.1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/autodoc_pydantic.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script src="../../../../_static/documentation_options.js?v=01f34227"></script>
    <script src="../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_modules/rompy/swan/components/output';</script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">rompy 0.1.0 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../quickstart.html">
                        Quickstart
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../core_concepts.html">
                        Core Concepts
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../models.html">
                        Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../demo.html">
                        Demonstration notebooks
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../../../api.html">
                        API  Documentation
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/rom-py/rompy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../quickstart.html">
                        Quickstart
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../core_concepts.html">
                        Core Concepts
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../models.html">
                        Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../demo.html">
                        Demonstration notebooks
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../../../api.html">
                        API  Documentation
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/rom-py/rompy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<h3><a href="../../../../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../core_concepts.html">Core Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../demo.html">Demonstration notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api.html">API  Documentation</a></li>
</ul>
</div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../../index.html" class="nav-link">Module code</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">rompy.swan.c...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <h1>Source code for rompy.swan.components.output</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Model output components.&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Annotated</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">field_validator</span><span class="p">,</span> <span class="n">model_validator</span><span class="p">,</span> <span class="n">Field</span>

<span class="kn">from</span> <span class="nn">rompy.swan.types</span> <span class="kn">import</span> <span class="n">BlockOptions</span><span class="p">,</span> <span class="n">IDLA</span>
<span class="kn">from</span> <span class="nn">rompy.swan.components.base</span> <span class="kn">import</span> <span class="n">BaseComponent</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.base</span> <span class="kn">import</span> <span class="n">XY</span><span class="p">,</span> <span class="n">IJ</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.readgrid</span> <span class="kn">import</span> <span class="n">GRIDREGULAR</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.time</span> <span class="kn">import</span> <span class="n">TimeRangeOpen</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.output</span> <span class="kn">import</span> <span class="n">SPEC1D</span><span class="p">,</span> <span class="n">SPEC2D</span><span class="p">,</span> <span class="n">ABS</span><span class="p">,</span> <span class="n">REL</span>


<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<span class="n">SPECIAL_NAMES</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;BOTTGRID&quot;</span><span class="p">,</span> <span class="s2">&quot;COMPGRID&quot;</span><span class="p">,</span> <span class="s2">&quot;BOUNDARY&quot;</span><span class="p">,</span> <span class="s2">&quot;BOUND_&quot;</span><span class="p">]</span>


<span class="c1"># =====================================================================================</span>
<span class="c1"># Locations</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="BaseLocation">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BaseLocation.html#rompy.swan.components.output.BaseLocation">[docs]</a>
<span class="k">class</span> <span class="nc">BaseLocation</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for SWAN output locations.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        {MODEL_TYPE} sname=&#39;sname&#39;</span>

<span class="sd">    This is the base class for all locations components. It is not meant to be used</span>
<span class="sd">    directly.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    The name of the set of output locations `sname` cannot be longer than 8 characters</span>
<span class="sd">    and must not match any SWAN special names such as `BOTTGRID` (define output over</span>
<span class="sd">    the bottom/current grid) or `COMPGRID` (define output over the computational grid).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import BaseLocation</span>
<span class="sd">        loc = BaseLocation(sname=&quot;outsites&quot;)</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;locations&quot;</span><span class="p">,</span> <span class="s2">&quot;LOCATIONS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;locations&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">sname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the set of output locations defined by this command&quot;</span><span class="p">,</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="BaseLocation.not_special_name">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BaseLocation.html#rompy.swan.components.output.BaseLocation.not_special_name">[docs]</a>
    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;sname&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">not_special_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">sname</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensure sname is not defined as one of the special names.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">SPECIAL_NAMES</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sname</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;sname </span><span class="si">{</span><span class="n">sname</span><span class="si">}</span><span class="s2"> is a special name and cannot be used&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sname</span></div>


<div class="viewcode-block" id="BaseLocation.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BaseLocation.html#rompy.swan.components.output.BaseLocation.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2"> sname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sname</span><span class="si">}</span><span class="s2">&#39;&quot;</span></div>
</div>



<div class="viewcode-block" id="FRAME">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.FRAME.html#rompy.swan.components.output.FRAME">[docs]</a>
<span class="k">class</span> <span class="nc">FRAME</span><span class="p">(</span><span class="n">BaseLocation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Output locations on a regular grid.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        FRAME &#39;sname&#39; [xpfr] [ypfr] [alpfr] [xlenfr] [ylenfr] [mxfr] [myfr]</span>

<span class="sd">    With this optional command the user defines output on a rectangular, uniform grid</span>
<span class="sd">    in a regular frame.</span>

<span class="sd">    If the set of output locations is identical to a part of the computational grid,</span>
<span class="sd">    then the user can use the alternative command GROUP.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Cannot be used in 1D-mode.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import FRAME</span>
<span class="sd">        loc = FRAME(</span>
<span class="sd">            sname=&quot;outgrid&quot;,</span>
<span class="sd">            grid=dict(xp=173, yp=-40, xlen=2, ylen=2, mx=19, my=19),</span>
<span class="sd">        )</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;frame&quot;</span><span class="p">,</span> <span class="s2">&quot;FRAME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;frame&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">grid</span><span class="p">:</span> <span class="n">GRIDREGULAR</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Frame grid definition&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="FRAME.grid_suffix">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.FRAME.html#rompy.swan.components.output.FRAME.grid_suffix">[docs]</a>
    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;grid&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">grid_suffix</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">grid</span><span class="p">:</span> <span class="n">GRIDREGULAR</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GRIDREGULAR</span><span class="p">:</span>
        <span class="n">grid</span><span class="o">.</span><span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;fr&quot;</span>
        <span class="k">return</span> <span class="n">grid</span></div>


<div class="viewcode-block" id="FRAME.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.FRAME.html#rompy.swan.components.output.FRAME.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="GROUP">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.GROUP.html#rompy.swan.components.output.GROUP">[docs]</a>
<span class="k">class</span> <span class="nc">GROUP</span><span class="p">(</span><span class="n">BaseLocation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Output locations on subset of a grid.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        GROUP &#39;sname&#39; SUBGRID [ix1] [ix2] [iy1] [iy2]</span>

<span class="sd">    With this optional command the user defines a group of output locations on a</span>
<span class="sd">    rectangular or curvilinear grid that is identical with (part of) the computational</span>
<span class="sd">    grid (rectilinear or curvilinear). Such a group may be convenient for the user to</span>
<span class="sd">    obtain output that is not affected by interpolation errors.</span>

<span class="sd">    The subgrid contains those points (`ix`,`iy`) of the computational grid for which:</span>
<span class="sd">    `ix1` &lt;= `ix` &lt;= `ix2` and `iy1` &lt;= `iy` &lt;= `iy2` (The origin of the computational</span>
<span class="sd">    grid is `ix=0`, `iy=0`)</span>

<span class="sd">    Limitations: `ix1&gt;=0`, `ix2&lt;=mxc`, `iy1&gt;=0`, `iy2&lt;=myc` (`mxc` and `myc` as</span>
<span class="sd">    defined in the command `CGRID` which should always precede this command `GROUP`)</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Cannot be used in 1D-mode or in case of unstructured grids.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Regular and curvilinear grids are supported.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import GROUP</span>
<span class="sd">        loc = GROUP(sname=&quot;subgrid&quot;, ix1=20, iy1=0, ix2=50, iy2=100)</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;group&quot;</span><span class="p">,</span> <span class="s2">&quot;GROUP&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;group&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">ix1</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Lowest index of the computational grid in the ix-direction&quot;</span><span class="p">,</span>
        <span class="n">ge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">iy1</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Lowest index of the computational grid in the iy-direction&quot;</span><span class="p">,</span>
        <span class="n">ge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ix2</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Highest index of the computational grid in the ix-direction&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">iy2</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Highest index of the computational grid in the ix-direction&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="GROUP.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.GROUP.html#rompy.swan.components.output.GROUP.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; SUBGRID ix1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ix1</span><span class="si">}</span><span class="s2"> iy1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">iy1</span><span class="si">}</span><span class="s2"> ix2=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ix2</span><span class="si">}</span><span class="s2"> iy2=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">iy2</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="CURVE">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.CURVE.html#rompy.swan.components.output.CURVE">[docs]</a>
<span class="k">class</span> <span class="nc">CURVE</span><span class="p">(</span><span class="n">BaseLocation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Output locations along a curve.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        CURVE &#39;sname&#39; [xp1] [yp1] &lt; [int] [xp] [yp] &gt;</span>

<span class="sd">    With this optional command the user defines output along a curved line. Actually</span>
<span class="sd">    this curve is a broken line, defined by the user with its corner points. The values</span>
<span class="sd">    of the output quantities along the curve are interpolated from the computational</span>
<span class="sd">    grid. This command may be used more than once to define more curves.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    The following pre-defined curves are available and could be used instead of a CURVE</span>
<span class="sd">    component: &#39;BOUNDARY&#39; and `BOUND_0N` where `N` is boundary part number.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    All coordinates and distances should be given in m when Cartesian coordinates are</span>
<span class="sd">    used or degrees when Spherical coordinates are used (see command COORD).</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Repeat the group `&lt; int xp yp` &gt; in proper order if there are more corner points</span>
<span class="sd">    on the curve.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import CURVE</span>
<span class="sd">        loc = CURVE(</span>
<span class="sd">            sname=&quot;outcurve&quot;,</span>
<span class="sd">            xp1=172,</span>
<span class="sd">            yp1=-40,</span>
<span class="sd">            npts=[3, 3],</span>
<span class="sd">            xp=[172.0, 174.0],</span>
<span class="sd">            yp=[-38.0, -38.0],</span>
<span class="sd">        )</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;curve&quot;</span><span class="p">,</span> <span class="s2">&quot;CURVE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;curve&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">xp1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Problem coordinate of the first point of the curve in the x-direction&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">yp1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Problem coordinate of the first point of the curve in the y-direction&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">npts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The `int` CURVE parameter, SWAN will generate `npts-1` equidistant &quot;</span>
            <span class="s2">&quot;locations between two subsequent corner points of the curve &quot;</span>
            <span class="s2">&quot;including the two corner points&quot;</span>
        <span class="p">),</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">xp</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;problem coordinates of a corner point of the curve in the x-direction&quot;</span>
        <span class="p">),</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">yp</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;problem coordinates of a corner point of the curve in the y-direction&quot;</span>
        <span class="p">),</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="CURVE.ensure_equal_size">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.CURVE.html#rompy.swan.components.output.CURVE.ensure_equal_size">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">ensure_equal_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CURVE&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;xp&quot;</span><span class="p">,</span> <span class="s2">&quot;yp&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">))</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">npts</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Size of npts and </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> must be the same&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="CURVE.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.CURVE.html#rompy.swan.components.output.CURVE.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> xp1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">xp1</span><span class="si">}</span><span class="s2"> yp1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">yp1</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">npts</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">yp</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">npts</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xp</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">yp</span><span class="p">):</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">int=</span><span class="si">{</span><span class="n">npts</span><span class="si">}</span><span class="s2"> xp=</span><span class="si">{</span><span class="n">xp</span><span class="si">}</span><span class="s2"> yp=</span><span class="si">{</span><span class="n">yp</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="CURVES">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.CURVES.html#rompy.swan.components.output.CURVES">[docs]</a>
<span class="k">class</span> <span class="nc">CURVES</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Output locations along multiple curves.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        CURVE &#39;sname1&#39; [xp1] [yp1] &lt; [int] [xp] [yp] &gt;</span>
<span class="sd">        CURVE &#39;sname2&#39; [xp1] [yp1] &lt; [int] [xp] [yp] &gt;</span>
<span class="sd">        ..</span>

<span class="sd">    This component can be used to prescribe and render multiple CURVE components.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import CURVE, CURVES</span>
<span class="sd">        loc1 = CURVE(</span>
<span class="sd">            sname=&quot;c1&quot;, xp1=7, yp1=-40, npts=[3, 3], xp=[7, 9], yp=[-38, -38],</span>
<span class="sd">        )</span>
<span class="sd">        loc2 = CURVE(</span>
<span class="sd">            sname=&quot;c2&quot;, xp1=3, yp1=-37, npts=[5, 5], xp=[4, 5], yp=[-37, -36],</span>
<span class="sd">        )</span>
<span class="sd">        locs = CURVES(curves=[loc1, loc2])</span>
<span class="sd">        print(locs.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;curves&quot;</span><span class="p">,</span> <span class="s2">&quot;CURVES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;curves&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">curves</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CURVE</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;CURVE components&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sname</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">curve</span><span class="o">.</span><span class="n">sname</span> <span class="k">for</span> <span class="n">curve</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">curves</span><span class="p">]</span>

<div class="viewcode-block" id="CURVES.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.CURVES.html#rompy.swan.components.output.CURVES.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">curve</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">curves</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="p">[</span><span class="n">curve</span><span class="o">.</span><span class="n">cmd</span><span class="p">()]</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="RAY">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.RAY.html#rompy.swan.components.output.RAY">[docs]</a>
<span class="k">class</span> <span class="nc">RAY</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Output locations along a depth contour.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        RAY &#39;rname&#39; [xp1] [yp1] [xq1] [yq1] &lt; [int] [xp] [yp] [xq] [yq] &gt;</span>

<span class="sd">    With this optional command the user provides SWAN with information to determine</span>
<span class="sd">    output locations along the depth contour line(s) defined subsequently in command</span>
<span class="sd">    `ISOLINE` (see below).</span>

<span class="sd">    These locations are determined by SWAN as the intersections of the depth contour</span>
<span class="sd">    line(s) and the set of straight rays defined in this command RAY. These rays are</span>
<span class="sd">    characterized by a set of master rays defined by their start and end positions</span>
<span class="sd">    (`xp`,`yp`) and (`xq`,`yq`). Between each pair of sequential master rays thus</span>
<span class="sd">    defined SWAN generates `int-1` intermediate rays by linear interpolation of the</span>
<span class="sd">    start and end positions.</span>

<span class="sd">    Rays defined by this component have nothing in common with wave rays (e.g. as</span>
<span class="sd">    obtained from conventional refraction computations).</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Cannot be used in 1D-mode.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    All coordinates and distances should be given in m when Cartesian coordinates are</span>
<span class="sd">    used or degrees when Spherical coordinates are used (see command `COORD`).</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    When using rays the input grid for bottom and water level should not be curvilinear.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import RAY</span>
<span class="sd">        loc = RAY(</span>
<span class="sd">            rname=&quot;outray&quot;,</span>
<span class="sd">            xp1=171.9,</span>
<span class="sd">            yp1=-40.1,</span>
<span class="sd">            xq1=172.1,</span>
<span class="sd">            yq1=-39.9,</span>
<span class="sd">            npts=[3, 3],</span>
<span class="sd">            xp=[171.9, 173.9],</span>
<span class="sd">            yp=[-38.1, -38.1],</span>
<span class="sd">            xq=[172.1, 174.1],</span>
<span class="sd">            yq=[-37.9, -37.9],</span>
<span class="sd">        )</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ray&quot;</span><span class="p">,</span> <span class="s2">&quot;RAY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;ray&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">rname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the set of rays defined by this command&quot;</span><span class="p">,</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">xp1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Problem coordinate of the begin point of the first master ray &quot;</span>
            <span class="s2">&quot;in the x-direction&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">yp1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Problem coordinate of the begin point of the first master ray &quot;</span>
            <span class="s2">&quot;in the y-direction&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">xq1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Problem coordinate of the end point of the first master ray &quot;</span>
            <span class="s2">&quot;in the x-direction&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">yq1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Problem coordinate of the end point of the first master ray &quot;</span>
            <span class="s2">&quot;in the y-direction&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">npts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The `int` RAY parameter, number of subdivisions between the previous &quot;</span>
            <span class="s2">&quot;master ray and the following master ray defined by the following data &quot;</span>
            <span class="s2">&quot;(number of subdivisions is one morethan the number of interpolated rays)&quot;</span>
        <span class="p">),</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">xp</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;problem coordinates of the begin of each subsequent master ray in the &quot;</span>
            <span class="s2">&quot;x-direction&quot;</span>
        <span class="p">),</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">yp</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;problem coordinates of the begin of each subsequent master ray in the &quot;</span>
            <span class="s2">&quot;y-direction&quot;</span>
        <span class="p">),</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">xq</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;problem coordinates of the end of each subsequent master ray in the &quot;</span>
            <span class="s2">&quot;x-direction&quot;</span>
        <span class="p">),</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">yq</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;problem coordinates of the end of each subsequent master ray in the &quot;</span>
            <span class="s2">&quot;y-direction&quot;</span>
        <span class="p">),</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="RAY.ensure_equal_size">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.RAY.html#rompy.swan.components.output.RAY.ensure_equal_size">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">ensure_equal_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CURVE&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;xp&quot;</span><span class="p">,</span> <span class="s2">&quot;yp&quot;</span><span class="p">,</span> <span class="s2">&quot;xq&quot;</span><span class="p">,</span> <span class="s2">&quot;yq&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">))</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">npts</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Size of npts and </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> must be the same&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="RAY.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.RAY.html#rompy.swan.components.output.RAY.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;RAY rname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; xp1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">xp1</span><span class="si">}</span><span class="s2"> yp1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">yp1</span><span class="si">}</span><span class="s2"> xq1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">xq1</span><span class="si">}</span><span class="s2"> yq1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">yq1</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">npts</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">yp</span><span class="p">,</span> <span class="n">xq</span><span class="p">,</span> <span class="n">yq</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">npts</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xp</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">yp</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xq</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">yq</span><span class="p">):</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">int=</span><span class="si">{</span><span class="n">npts</span><span class="si">}</span><span class="s2"> xp=</span><span class="si">{</span><span class="n">xp</span><span class="si">}</span><span class="s2"> yp=</span><span class="si">{</span><span class="n">yp</span><span class="si">}</span><span class="s2"> xq=</span><span class="si">{</span><span class="n">xq</span><span class="si">}</span><span class="s2"> yq=</span><span class="si">{</span><span class="n">yq</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="ISOLINE">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.ISOLINE.html#rompy.swan.components.output.ISOLINE">[docs]</a>
<span class="k">class</span> <span class="nc">ISOLINE</span><span class="p">(</span><span class="n">BaseLocation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Output locations along a depth contour.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        ISOLINE &#39;sname&#39; &#39;rname&#39; DEPTH|BOTTOM [dep]</span>

<span class="sd">    With this optional command the user defines a set of output locations along one</span>
<span class="sd">    depth or bottom level contour line (in combination with command RAY).</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Cannot be used in 1D-mode.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import ISOLINE</span>
<span class="sd">        loc = ISOLINE(sname=&quot;outcurve&quot;, rname=&quot;outray&quot;, dep_type=&quot;depth&quot;, dep=12.0)</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;isoline&quot;</span><span class="p">,</span> <span class="s2">&quot;ISOLINE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;isoline&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">rname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the set of rays defined by this command&quot;</span><span class="p">,</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">dep</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The depth (in m) of the depth contour line along which output locations &quot;</span>
            <span class="s2">&quot;are generated by SWAN.&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">dep_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="s2">&quot;bottom&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Define if the depth contour is extracted from the DEPTH output (the &quot;</span>
            <span class="s2">&quot;stationary water depth) or from the BOTTOM output (the depth relative &quot;</span>
            <span class="s2">&quot;to the datum level with the water level ignored) (SWAN default: DEPTH)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="ISOLINE.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.ISOLINE.html#rompy.swan.components.output.ISOLINE.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> rname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dep_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dep_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; dep=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dep</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="POINTS">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.POINTS.html#rompy.swan.components.output.POINTS">[docs]</a>
<span class="k">class</span> <span class="nc">POINTS</span><span class="p">(</span><span class="n">BaseLocation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Isolated output locations.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        POINTS &#39;sname&#39; &lt; [xp] [yp] &gt;</span>

<span class="sd">    With this optional command the user defines a set of individual output point</span>
<span class="sd">    locations.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    All coordinates and distances should be given in m when Cartesian coordinates are</span>
<span class="sd">    used or degrees when Spherical coordinates are used (see command COORD).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import POINTS</span>
<span class="sd">        loc = POINTS(sname=&quot;outpts&quot;, xp=[172.3, 172.4], yp=[-39, -39])</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;points&quot;</span><span class="p">,</span> <span class="s2">&quot;POINTS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;points&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">xp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;problem coordinates of the points in the x-direction&quot;</span><span class="p">,</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">yp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;problem coordinates of the points in the y-direction&quot;</span><span class="p">,</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="POINTS.ensure_equal_size">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.POINTS.html#rompy.swan.components.output.POINTS.ensure_equal_size">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">ensure_equal_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;POINTS&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xp</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yp</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;xp and yp must be the same size&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="POINTS.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.POINTS.html#rompy.swan.components.output.POINTS.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">xp</span><span class="p">,</span> <span class="n">yp</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xp</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">yp</span><span class="p">):</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">xp=</span><span class="si">{</span><span class="n">xp</span><span class="si">}</span><span class="s2"> yp=</span><span class="si">{</span><span class="n">yp</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="POINTS_FILE">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.POINTS_FILE.html#rompy.swan.components.output.POINTS_FILE">[docs]</a>
<span class="k">class</span> <span class="nc">POINTS_FILE</span><span class="p">(</span><span class="n">BaseLocation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Isolated output locations.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        POINTS &#39;sname&#39; FILE &#39;fname&#39;</span>

<span class="sd">    With this optional command the user defines a set of individual output point</span>
<span class="sd">    locations from text file. The file should have one point per row with x-coordinates</span>
<span class="sd">    and y-coordinates in the first and second columns respectively.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    All coordinates and distances should be given in m when Cartesian coordinates are</span>
<span class="sd">    used or degrees when Spherical coordinates are used (see command COORD).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import POINTS_FILE</span>
<span class="sd">        loc = POINTS_FILE(sname=&quot;outpts&quot;, fname=&quot;./output_locations.txt&quot;)</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;points_file&quot;</span><span class="p">,</span> <span class="s2">&quot;POINTS_FILE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;points_file&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">fname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the file containing the output locations&quot;</span><span class="p">,</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">36</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="POINTS_FILE.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.POINTS_FILE.html#rompy.swan.components.output.POINTS_FILE.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;POINTS sname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sname</span><span class="si">}</span><span class="s2">&#39; fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="NGRID">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.NGRID.html#rompy.swan.components.output.NGRID">[docs]</a>
<span class="k">class</span> <span class="nc">NGRID</span><span class="p">(</span><span class="n">BaseLocation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Output locations for a nested grid.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        NGRID &#39;sname&#39; [xpn] [ypn] [alpn] [xlenn] [ylenn] [mxn] [myn]</span>

<span class="sd">    If the user wishes to carry out nested SWAN runs, a separate coarse-grid SWAN run</span>
<span class="sd">    is required. With this optional command `NGRID`, the user defines in the present</span>
<span class="sd">    coarse-grid run, a set of output locations along the boundary of the subsequent</span>
<span class="sd">    nested computational grid. The set of output locations thus defined is of the type</span>
<span class="sd">    NGRID.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Command `NESTOUT` is required after this command `NGRID` to generate some data for</span>
<span class="sd">    the (subsequent) nested run.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Cannot be used in 1D-mode.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import NGRID</span>
<span class="sd">        loc = NGRID(</span>
<span class="sd">            sname=&quot;outnest&quot;,</span>
<span class="sd">            grid=dict(xp=173, yp=-40, xlen=2, ylen=2, mx=19, my=19),</span>
<span class="sd">        )</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ngrid&quot;</span><span class="p">,</span> <span class="s2">&quot;NGRID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;ngrid&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">grid</span><span class="p">:</span> <span class="n">GRIDREGULAR</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;NGRID grid definition&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="NGRID.grid_suffix">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.NGRID.html#rompy.swan.components.output.NGRID.grid_suffix">[docs]</a>
    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;grid&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">grid_suffix</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">grid</span><span class="p">:</span> <span class="n">GRIDREGULAR</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GRIDREGULAR</span><span class="p">:</span>
        <span class="n">grid</span><span class="o">.</span><span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;n&quot;</span>
        <span class="k">return</span> <span class="n">grid</span></div>


<div class="viewcode-block" id="NGRID.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.NGRID.html#rompy.swan.components.output.NGRID.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="NGRID_UNSTRUCTURED">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.NGRID_UNSTRUCTURED.html#rompy.swan.components.output.NGRID_UNSTRUCTURED">[docs]</a>
<span class="k">class</span> <span class="nc">NGRID_UNSTRUCTURED</span><span class="p">(</span><span class="n">BaseLocation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Output locations for a nested grid.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        NGRID &#39;sname&#39; UNSTRUCTURED -&gt;TRIANGLE|EASYMESH &#39;fname&#39;</span>

<span class="sd">    If the user wishes to carry out nested SWAN runs, a separate coarse-grid SWAN run</span>
<span class="sd">    is required. With this optional command `NGRID`, the user defines in the present</span>
<span class="sd">    coarse-grid run, a set of output locations along the boundary of the subsequent</span>
<span class="sd">    nested computational grid. The set of output locations thus defined is of the type</span>
<span class="sd">    NGRID.</span>

<span class="sd">    With this option the user indicates that the subsequent nested grid is unstructured</span>
<span class="sd">    Only grids generated by Triangle and Easymesh are supported by SWAN.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Command `NESTOUT` is required after this command `NGRID` to generate some data for</span>
<span class="sd">    the (subsequent) nested run.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import NGRID_UNSTRUCTURED</span>
<span class="sd">        loc = NGRID_UNSTRUCTURED(sname=&quot;outnest&quot;, kind=&quot;triangle&quot;, fname=&quot;ngrid.txt&quot;)</span>
<span class="sd">        print(loc.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ngrid_unstructured&quot;</span><span class="p">,</span> <span class="s2">&quot;NGRID_UNSTRUCTURED&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;ngrid_unstructured&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;triangle&quot;</span><span class="p">,</span> <span class="s2">&quot;easymesh&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;triangle&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Indicate if nested grid is generated by Triangle or Easymesh. The base &quot;</span>
            <span class="s2">&quot;name of the grid specified in the `fname` parameter is used internally &quot;</span>
            <span class="s2">&quot;by SWAN to define the `.node` and `.ele` files in case of the former or &quot;</span>
            <span class="s2">&quot;the `.n` and `.e` files in case of the latter.&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">fname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Basename of the required files, i.e. without extension&quot;</span><span class="p">,</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="NGRID_UNSTRUCTURED.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.NGRID_UNSTRUCTURED.html#rompy.swan.components.output.NGRID_UNSTRUCTURED.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;NGRID sname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sname</span><span class="si">}</span><span class="s2">&#39; UNSTRUCTURED&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kind</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kind</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># Settings</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="QUANTITY">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.QUANTITY.html#rompy.swan.components.output.QUANTITY">[docs]</a>
<span class="k">class</span> <span class="nc">QUANTITY</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Define output settings.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        QUANTITY &lt; output &gt; &#39;short&#39; &#39;long&#39; [lexp] [hexp] [excv] [power] [ref] &amp;</span>
<span class="sd">            [fswell] [fmin] [fmax] -&gt;PROBLEMCOORD|FRAME</span>

<span class="sd">        Examples:</span>
<span class="sd">        ---------</span>
<span class="sd">        QUANTITY Xp hexp=100.</span>
<span class="sd">        QUANTITY HS TM01 RTMM10 excv=-9.</span>
<span class="sd">        QUANTITY HS TM02 FSPR fmin=0.03 fmax=0.5</span>
<span class="sd">        QUANTITY Hswell fswell=0.08</span>
<span class="sd">        QUANTITY Per short=&#39;Tm-1,0&#39; power=0.</span>
<span class="sd">        QUANTITY Transp Force Frame</span>

<span class="sd">    With this command the user can influence:</span>

<span class="sd">    * The naming of output quantities</span>
<span class="sd">    * The accuracy of writing output quantities</span>
<span class="sd">    * The definition of some output quantities</span>
<span class="sd">    * Reference direction for vectors</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    The following data are accepted only in combination with some specific quantities:</span>

<span class="sd">    * power</span>
<span class="sd">    * ref</span>
<span class="sd">    * fswell</span>
<span class="sd">    * fmin</span>
<span class="sd">    * fmax</span>
<span class="sd">    * PROBLEMCOORD</span>
<span class="sd">    * FRAME</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    **PROBLEMCOORD**: Vector components are relative to the x- and y-axes of the</span>
<span class="sd">    problem coordinate system (see command `SET`):</span>

<span class="sd">    * Directions are counterclockwise relative to the positive x-axis of the problem</span>
<span class="sd">      coordinate system if Cartesian direction convention is used.</span>
<span class="sd">    * Directions are relative to North (clockwise) if Nautical direction convention is</span>
<span class="sd">      used.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    **FRAME**: If output is requested on sets created by command FRAME or</span>
<span class="sd">    automatically (see command `SET`) (`COMPGRID` or `BOTTGRID`):</span>

<span class="sd">    * Vector components are relative to the x- and y-axes of the frame coordinate</span>
<span class="sd">      system.</span>
<span class="sd">    * Directions are counterclockwise relative to the positive x-axis of the frame</span>
<span class="sd">      coordinate system if Cartesian direction convention is used.</span>
<span class="sd">    * Directions are relative to North (clockwise) if Nautical direction convention</span>
<span class="sd">      is used.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import QUANTITY</span>
<span class="sd">        quant = QUANTITY(output=[&quot;xp&quot;], hexp=100)</span>
<span class="sd">        print(quant.render())</span>
<span class="sd">        quant = QUANTITY(output=[&quot;hsign&quot;, &quot;tm01&quot;, &quot;rtmm10&quot;], excv=-9)</span>
<span class="sd">        print(quant.render())</span>
<span class="sd">        quant = QUANTITY(output=[&quot;hsign&quot;, &quot;tm02&quot;, &quot;fspr&quot;], fmin=0.03, fmax=0.5)</span>
<span class="sd">        print(quant.render())</span>
<span class="sd">        quant = QUANTITY(output=[&quot;hsign&quot;], fswell=0.08)</span>
<span class="sd">        print(quant.render())</span>
<span class="sd">        quant = QUANTITY(output=[&quot;per&quot;], short=&quot;Tm-1,0&quot;, power=0)</span>
<span class="sd">        print(quant.render())</span>
<span class="sd">        quant = QUANTITY(output=[&quot;transp&quot;, &quot;force&quot;], coord=&quot;frame&quot;)</span>
<span class="sd">        print(quant.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;QUANTITY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">output</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">BlockOptions</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The output variables to define settings for&quot;</span><span class="p">,</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">short</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Short name of the output quantity (e.g. the name in the heading of a &quot;</span>
            <span class="s2">&quot;table written by SWAN). If this option is not used, SWAN will use a &quot;</span>
            <span class="s2">&quot;realistic name&quot;</span>
        <span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">long</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Long name of the output quantity (e.g. the name in the heading of a &quot;</span>
            <span class="s2">&quot;block output written by SWAN). If this option is not used, SWAN will &quot;</span>
            <span class="s2">&quot;use a realistic name&quot;</span>
        <span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">lexp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Lowest expected value of the output quantity&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">hexp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Highest expected value of the output quantity; the highest expected &quot;</span>
            <span class="s2">&quot;value is used by SWAN to determine the number of decimals in a table &quot;</span>
            <span class="s2">&quot;with heading. So the `QUANTITY` command can be used in case the default &quot;</span>
            <span class="s2">&quot;number of decimals in a table is unsatisfactory&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">excv</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;In case there is no valid value (e.g. wave height in a dry point) this &quot;</span>
            <span class="s2">&quot;exception value is written in a table or block output&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">power</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;power `p` appearing in the definition of `PER`, `RPER` and `WLEN`. Note &quot;</span>
            <span class="s2">&quot;that the value for `power` given for `PER` affects also the value of &quot;</span>
            <span class="s2">&quot;`RPER`; the power for `WLEN` is independent of that of `PER` or `RPER` &quot;</span>
            <span class="s2">&quot;(SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">ref</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Reference time used for the quantity `TSEC`. Default value: starting &quot;</span>
            <span class="s2">&quot;time of the first computation, except in cases where this is later than &quot;</span>
            <span class="s2">&quot;the time of the earliest input. In these cases, the time of the earliest &quot;</span>
            <span class="s2">&quot;input is used&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">fswell</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Upper limit of frequency range used for computing the quantity HSWELL &quot;</span>
            <span class="s2">&quot;(SWAN default: 0.1 Hz)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">noswll</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Number of swells to output for watershed quantities &quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">fmin</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Lower limit of frequency range used for computing integral parameters &quot;</span>
            <span class="s2">&quot;(SWAN Default: 0.0 Hz)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">fmax</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Upper limit of frequency range used for computing integral parameters &quot;</span>
            <span class="s2">&quot;(SWAN default: 1000.0 Hz, acts as infinity)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">coord</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;problemcoord&quot;</span><span class="p">,</span> <span class="s2">&quot;frame&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Define if vectors and directions refer to the problem coordinate system &quot;</span>
            <span class="s2">&quot;(&#39;problemcoord&#39;) or sets created by command FRAME (&#39;frame&#39;) &quot;</span>
            <span class="s2">&quot;(SWAN default: problemcoord)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="QUANTITY.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.QUANTITY.html#rompy.swan.components.output.QUANTITY.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;QUANTITY&quot;</span>
        <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">output</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">short</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; short=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">short</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">long</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; long=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lexp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; lexp=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">lexp</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; hexp=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">hexp</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">excv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; excv=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">excv</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">power</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; power=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">power</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; ref=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ref</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fswell</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; fswell=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fswell</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">noswll</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; noswll=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">noswll</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fmin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; fmin=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fmin</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fmax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; fmax=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fmax</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coord</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">coord</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="QUANTITIES">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.QUANTITIES.html#rompy.swan.components.output.QUANTITIES">[docs]</a>
<span class="k">class</span> <span class="nc">QUANTITIES</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Define output settings for multiple output.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        QUANTITY &lt; output &gt; ...</span>
<span class="sd">        QUANTITY &lt; output &gt; ...</span>
<span class="sd">        ..</span>

<span class="sd">    This component can be used to prescribe and render multiple QUANTITY components.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import QUANTITY, QUANTITIES</span>
<span class="sd">        q1 = QUANTITY(output=[&quot;xp&quot;], hexp=100)</span>
<span class="sd">        q2 = QUANTITY(output=[&quot;hsign&quot;, &quot;tm01&quot;, &quot;rtmm10&quot;], excv=-9)</span>
<span class="sd">        q3 = QUANTITY(output=[&quot;hsign&quot;, &quot;tm02&quot;, &quot;fspr&quot;], fmin=0.03, fmax=0.5)</span>
<span class="sd">        q4 = QUANTITY(output=[&quot;hsign&quot;], fswell=0.08)</span>
<span class="sd">        q5 = QUANTITY(output=[&quot;per&quot;], short=&quot;Tm-1,0&quot;, power=0)</span>
<span class="sd">        q6 = QUANTITY(output=[&quot;transp&quot;, &quot;force&quot;], coord=&quot;frame&quot;)</span>
<span class="sd">        quantities = QUANTITIES(quantities=[q1, q2, q3, q4, q5, q6])</span>
<span class="sd">        print(quantities.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;quantities&quot;</span><span class="p">,</span> <span class="s2">&quot;QUANTITIES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;quantities&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">quantities</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">QUANTITY</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;QUANTITY components&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="QUANTITIES.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.QUANTITIES.html#rompy.swan.components.output.QUANTITIES.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">quantity</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantities</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="p">[</span><span class="n">quantity</span><span class="o">.</span><span class="n">cmd</span><span class="p">()]</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="OUTPUT_OPTIONS">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.OUTPUT_OPTIONS.html#rompy.swan.components.output.OUTPUT_OPTIONS">[docs]</a>
<span class="k">class</span> <span class="nc">OUTPUT_OPTIONS</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set format of output.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        OUTPUT OPTIons &#39;comment&#39; (TABLE [field]) (BLOCK [ndec] [len]) (SPEC [ndec])</span>

<span class="sd">    This command enables the user to influence the format of block, table and spectral</span>
<span class="sd">    output.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import OUTPUT_OPTIONS</span>
<span class="sd">        opts = OUTPUT_OPTIONS(</span>
<span class="sd">            comment=&quot;!&quot;, field=10, ndec_block=4, len=20, ndec_spec=6,</span>
<span class="sd">        )</span>
<span class="sd">        print(opts.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;block&quot;</span><span class="p">,</span> <span class="s2">&quot;BLOCK&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;block&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">comment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Comment character used in comment lines in the output (SWAN default: %)&quot;</span>
        <span class="p">),</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Length of one data field in a table (SWAN default: 12)&quot;</span><span class="p">,</span>
        <span class="n">ge</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
        <span class="n">le</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ndec_block</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Number of decimals in block output (SWAN default: 4)&quot;</span><span class="p">,</span>
        <span class="n">ge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">le</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="nb">len</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Number of data on one line of block output (SWAN default: 6)&quot;</span><span class="p">,</span>
        <span class="n">ge</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">le</span><span class="o">=</span><span class="mi">9999</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ndec_spec</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Number of decimals in spectra output (SWAN default: 4)&quot;</span><span class="p">,</span>
        <span class="n">ge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">le</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="OUTPUT_OPTIONS.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.OUTPUT_OPTIONS.html#rompy.swan.components.output.OUTPUT_OPTIONS.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;OUTPUT OPTIONS&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; comment=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">comment</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; TABLE field=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ndec_block</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">len</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; BLOCK&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ndec_block</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; ndec=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ndec_block</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">len</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; len=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">len</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ndec_spec</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; SPEC ndec=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ndec_spec</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># Write</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="BaseWrite">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BaseWrite.html#rompy.swan.components.output.BaseWrite">[docs]</a>
<span class="k">class</span> <span class="nc">BaseWrite</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for SWAN output writing.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        {MODEL_TYPE} sname=&#39;sname&#39;</span>

<span class="sd">    This is the base class for all write components. It is not meant to be used</span>
<span class="sd">    directly.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import BaseWrite</span>
<span class="sd">        write = BaseWrite(</span>
<span class="sd">            sname=&quot;outgrid&quot;,</span>
<span class="sd">            fname=&quot;./output-grid.nc&quot;,</span>
<span class="sd">            times=dict(</span>
<span class="sd">                tbeg=&quot;2012-01-01T00:00:00&quot;,</span>
<span class="sd">                delt=&quot;PT30M&quot;,</span>
<span class="sd">                tfmt=1,</span>
<span class="sd">                dfmt=&quot;min&quot;,</span>
<span class="sd">                suffix=&quot;&quot;,</span>
<span class="sd">            )</span>
<span class="sd">        )</span>
<span class="sd">        print(write.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;write&quot;</span><span class="p">,</span> <span class="s2">&quot;WRITE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;write&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">sname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Name of the set of output locations in which the output is to be written&quot;</span>
        <span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">fname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Name of the data file where the output is written to The file format is &quot;</span>
            <span class="s2">&quot;defined by the file extension, use `.mat` for MATLAB binary (single &quot;</span>
            <span class="s2">&quot;precision) or `.nc` for netCDF format. If any other extension is used &quot;</span>
            <span class="s2">&quot;the ASCII format is assumed&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">times</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TimeRangeOpen</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Time specification if the user requires output at various times. If this &quot;</span>
            <span class="s2">&quot;option is not specified data will be written for the last time step of &quot;</span>
            <span class="s2">&quot;the computation&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="BaseWrite.validate_special_names">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BaseWrite.html#rompy.swan.components.output.BaseWrite.validate_special_names">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_special_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseWrite&quot;</span><span class="p">:</span>
        <span class="n">special_names</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;COMPGRID&quot;</span><span class="p">,</span> <span class="s2">&quot;BOTTGRID&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sname</span> <span class="ow">in</span> <span class="n">special_names</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;BLOCK&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Special name </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sname</span><span class="si">}</span><span class="s2"> is only supported with BLOCK&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="BaseWrite.validate_times">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BaseWrite.html#rompy.swan.components.output.BaseWrite.validate_times">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_times</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BLOCK&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">suffix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix</span>
        <span class="k">return</span> <span class="bp">self</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">suffix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

<div class="viewcode-block" id="BaseWrite.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BaseWrite.html#rompy.swan.components.output.BaseWrite.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>
</div>



<div class="viewcode-block" id="BLOCK">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BLOCK.html#rompy.swan.components.output.BLOCK">[docs]</a>
<span class="k">class</span> <span class="nc">BLOCK</span><span class="p">(</span><span class="n">BaseWrite</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write spatial distributions.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        BLOCK &#39;sname&#39; -&gt;HEADER|NOHEADER &#39;fname&#39; (LAYOUT [idla]) &lt; output &gt; &amp;</span>
<span class="sd">            [unit] (OUTPUT [tbegblk] [deltblk]) SEC|MIN|HR|DAY</span>

<span class="sd">    With this optional command the user indicates that one or more spatial</span>
<span class="sd">    distributions should be written to a file.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    The SWAN special frames &#39;BOTTGRID&#39; or &#39;COMPGRID&#39; can be set with the `sname` field.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    The text of the header indicates run identification (see command `PROJECT`), time,</span>
<span class="sd">    frame or group name (&#39;sname&#39;), variable and unit. The number of header lines is 8.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Cannot be used in 1D-mode.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import BLOCK</span>
<span class="sd">        block = BLOCK(sname=&quot;outgrid&quot;, fname=&quot;./depth-frame.nc&quot;, output=[&quot;depth&quot;])</span>
<span class="sd">        print(block.render())</span>
<span class="sd">        block = BLOCK(</span>
<span class="sd">            sname=&quot;COMPGRID&quot;,</span>
<span class="sd">            header=False,</span>
<span class="sd">            fname=&quot;./output-grid.nc&quot;,</span>
<span class="sd">            idla=3,</span>
<span class="sd">            output=[&quot;hsign&quot;, &quot;hswell&quot;, &quot;dir&quot;, &quot;tps&quot;, &quot;tm01&quot;, &quot;watlev&quot;, &quot;qp&quot;],</span>
<span class="sd">            times=dict(</span>
<span class="sd">                tbeg=&quot;2012-01-01T00:00:00&quot;,</span>
<span class="sd">                delt=&quot;PT30M&quot;,</span>
<span class="sd">                tfmt=1,</span>
<span class="sd">                dfmt=&quot;min&quot;,</span>
<span class="sd">                suffix=&quot;&quot;,</span>
<span class="sd">            )</span>
<span class="sd">        )</span>
<span class="sd">        print(block.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;block&quot;</span><span class="p">,</span> <span class="s2">&quot;BLOCK&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;block&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">header</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Indicate if the output should be written to a file with header lines &quot;</span>
            <span class="s2">&quot;(SWAN default: True)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">idla</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IDLA</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Prescribe the lay-out of the output to file (supported options here are &quot;</span>
            <span class="s2">&quot;1, 3, 4). Option 4 is recommended for postprocessing an ASCII file by &quot;</span>
            <span class="s2">&quot;MATLAB, however option 3 is recommended in case of binary MATLAB output &quot;</span>
            <span class="s2">&quot;(SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">output</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">BlockOptions</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The output variables to output to block file&quot;</span><span class="p">,</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">unit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Controls the scaling of the output. The program divides computed values &quot;</span>
            <span class="s2">&quot;by `unit` before writing to file, so the user should multiply the &quot;</span>
            <span class="s2">&quot;written value by `unit` to obtain the proper value. By default, if &quot;</span>
            <span class="s2">&quot;HEADER is selected, value is written as a 5 position integer. SWAN takes &quot;</span>
            <span class="s2">&quot;`unit` such that the largest number occurring in the block can be &quot;</span>
            <span class="s2">&quot;printed. If NOHEADER is selected, values are printed in floating-point &quot;</span>
            <span class="s2">&quot;format by default (`unit=1`)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="BLOCK.validate_idla">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BLOCK.html#rompy.swan.components.output.BLOCK.validate_idla">[docs]</a>
    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;idla&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate_idla</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">idla</span><span class="p">:</span> <span class="n">IDLA</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IDLA</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">idla</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Only IDLA options (1, 3, 4) are supported in BLOCK, got </span><span class="si">{</span><span class="n">idla</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">idla</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">suffix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;blk&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_header</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Render the header instruction.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;HEADER&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;NOHEADER&quot;</span>

<div class="viewcode-block" id="BLOCK.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.BLOCK.html#rompy.swan.components.output.BLOCK.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;BLOCK sname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_header</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idla</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; LAYOUT idla=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">idla</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="nb">repr</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">repr</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">unit=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">OUTPUT </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="TABLE">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.TABLE.html#rompy.swan.components.output.TABLE">[docs]</a>
<span class="k">class</span> <span class="nc">TABLE</span><span class="p">(</span><span class="n">BaseWrite</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write spatial distributions.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        TABLE &#39;sname&#39; -&gt;HEADER|NOHEADER|INDEXED &#39;fname&#39;  &lt; output &gt; &amp;</span>
<span class="sd">            (OUTPUT [tbegblk] [deltblk]) SEC|MIN|HR|DAY</span>

<span class="sd">    With this optional command the user indicates that for each location of the output</span>
<span class="sd">    location set &#39;sname&#39; (see commands `POINTS`, `CURVE`, `FRAME` or `GROUP`) one or</span>
<span class="sd">    more variables should be written to a file. The keywords `HEADER` and `NOHEADER`</span>
<span class="sd">    determine the appearance of the table; the filename determines the destination of</span>
<span class="sd">    the data.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    **HEADER**:</span>
<span class="sd">    output is written in fixed format to file with headers giving name of variable</span>
<span class="sd">    and unit per column (numbers too large to be written will be shown as `****`.</span>
<span class="sd">    The number of header lines is 4.</span>

<span class="sd">    **NOHEADER**:</span>
<span class="sd">    output is written in floating point format to file and has no headers.</span>

<span class="sd">    **INDEXED**:</span>
<span class="sd">    output compatible with GIS tools such as ARCVIEW, ARCINFO, etc. The user should</span>
<span class="sd">    give two TABLE commands, one to produce one file with `XP` and `YP` as output</span>
<span class="sd">    quantities, the other with `HS`, `RTM01` or other output quantities.</span>


<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import TABLE</span>
<span class="sd">        table = TABLE(</span>
<span class="sd">            sname=&quot;outpts&quot;,</span>
<span class="sd">            format=&quot;noheader&quot;,</span>
<span class="sd">            fname=&quot;./output_table.nc&quot;,</span>
<span class="sd">            output=[&quot;hsign&quot;, &quot;hswell&quot;, &quot;dir&quot;, &quot;tps&quot;, &quot;tm01&quot;, &quot;watlev&quot;, &quot;qp&quot;],</span>
<span class="sd">            times=dict(tbeg=&quot;2012-01-01T00:00:00&quot;, delt=&quot;PT30M&quot;, dfmt=&quot;min&quot;),</span>
<span class="sd">        )</span>
<span class="sd">        print(table.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;TABLE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="nb">format</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;header&quot;</span><span class="p">,</span> <span class="s2">&quot;noheader&quot;</span><span class="p">,</span> <span class="s2">&quot;indexed&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Indicate if the table should be written to a file as a HEADER, NOHEADER &quot;</span>
            <span class="s2">&quot;or INDEXED table format (SWAN default: HEADER)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">output</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">BlockOptions</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The output variables to output to block file&quot;</span><span class="p">,</span>
        <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">suffix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;tbl&quot;</span>

<div class="viewcode-block" id="TABLE.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.TABLE.html#rompy.swan.components.output.TABLE.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;TABLE sname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="nb">repr</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">repr</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">OUTPUT </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="n">DIM_TYPE</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span>
    <span class="n">Union</span><span class="p">[</span><span class="n">SPEC1D</span><span class="p">,</span> <span class="n">SPEC2D</span><span class="p">],</span>
    <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Choose between 1D or 2D spectra output&quot;</span><span class="p">,</span>
        <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">]</span>
<span class="n">FREQ_TYPE</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span>
    <span class="n">Union</span><span class="p">[</span><span class="n">ABS</span><span class="p">,</span> <span class="n">REL</span><span class="p">],</span>
    <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Choose between absolute or relative frequency spectra&quot;</span><span class="p">,</span>
        <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">]</span>


<div class="viewcode-block" id="SPECOUT">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.SPECOUT.html#rompy.swan.components.output.SPECOUT">[docs]</a>
<span class="k">class</span> <span class="nc">SPECOUT</span><span class="p">(</span><span class="n">BaseWrite</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write to data file the wave spectra.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SPECOUT &#39;sname&#39; SPEC1D|-&gt;SPEC2D -&gt;ABS|REL &#39;fname&#39; &amp;</span>
<span class="sd">            (OUTPUT [tbeg] [delt] SEC|MIN|HR|DAY)</span>

<span class="sd">    With this optional command the user indicates that for each location of the output</span>
<span class="sd">    location set &#39;sname&#39; (see commands `POINTS`, `CURVE`, `FRAME` or `GROUP`) the 1D</span>
<span class="sd">    or 2D variance / energy (see command `SET`) density spectrum (either the relative</span>
<span class="sd">    frequency or the absolute frequency spectrum) is to be written to a data file.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    This write command supports the following location types: `POINTS`, `CURVE`,</span>
<span class="sd">    `FRAME` and `GROUP`.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    This output file can be used for defining boundary conditions for subsequent SWAN</span>
<span class="sd">    runs (command `BOUNDSPEC`).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import SPECOUT</span>
<span class="sd">        out = SPECOUT(sname=&quot;outpts&quot;, fname=&quot;./specout.swn&quot;)</span>
<span class="sd">        print(out.render())</span>
<span class="sd">        out = SPECOUT(</span>
<span class="sd">            sname=&quot;outpts&quot;,</span>
<span class="sd">            dim=dict(model_type=&quot;spec2d&quot;),</span>
<span class="sd">            freq=dict(model_type=&quot;rel&quot;),</span>
<span class="sd">            fname=&quot;./specout.nc&quot;,</span>
<span class="sd">            times=dict(tbeg=&quot;2012-01-01T00:00:00&quot;, delt=&quot;PT30M&quot;, dfmt=&quot;min&quot;),</span>
<span class="sd">        )</span>
<span class="sd">        print(out.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;specout&quot;</span><span class="p">,</span> <span class="s2">&quot;SPECOUT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;specout&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">dim</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DIM_TYPE</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">freq</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FREQ_TYPE</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">suffix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;spc&quot;</span>

<div class="viewcode-block" id="SPECOUT.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.SPECOUT.html#rompy.swan.components.output.SPECOUT.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SPECOUT sname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dim</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">freq</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">freq</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; OUTPUT </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="NESTOUT">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.NESTOUT.html#rompy.swan.components.output.NESTOUT">[docs]</a>
<span class="k">class</span> <span class="nc">NESTOUT</span><span class="p">(</span><span class="n">BaseWrite</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write to 2D boundary spectra.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        NESTOUT &#39;sname&#39; &#39;fname&#39; (OUTPUT [tbegnst] [deltnst] -&gt;SEC|MIN|HR|DAY)</span>

<span class="sd">    Write to data file two-dimensional action density spectra (relative frequency)</span>
<span class="sd">    along the boundary of a nested grid (see command NGRID) to be used in a subsequent</span>
<span class="sd">    SWAN run.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    Cannot be used in 1D-mode.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import NESTOUT</span>
<span class="sd">        out = NESTOUT(</span>
<span class="sd">            sname=&quot;outnest&quot;,</span>
<span class="sd">            fname=&quot;./nestout.swn&quot;,</span>
<span class="sd">            times=dict(tbeg=&quot;2012-01-01T00:00:00&quot;, delt=&quot;PT30M&quot;, dfmt=&quot;min&quot;),</span>
<span class="sd">        )</span>
<span class="sd">        print(out.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;nestout&quot;</span><span class="p">,</span> <span class="s2">&quot;NESTOUT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;nestout&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">suffix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;nst&quot;</span>

<div class="viewcode-block" id="NESTOUT.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.NESTOUT.html#rompy.swan.components.output.NESTOUT.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;NESTOUT sname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sname</span><span class="si">}</span><span class="s2">&#39; fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; OUTPUT </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># Write or plot intermediate results</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="TEST">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.TEST.html#rompy.swan.components.output.TEST">[docs]</a>
<span class="k">class</span> <span class="nc">TEST</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write intermediate results.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        TEST [itest] [itrace] POINTS XY|IJ (PAR &#39;fname&#39;) (S1D &#39;fname&#39;) (S2D &#39;fname&#39;)</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    The 6 source terms written due to the presence of the keyword S1D or S2D are: wind</span>
<span class="sd">    input, whitecapping, bottom friction, breaking, 3- and 4- wave interactions.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.output import TEST</span>
<span class="sd">        test = TEST(</span>
<span class="sd">            itest=10,</span>
<span class="sd">            points=dict(model_type=&quot;ij&quot;, i=[0, 0], j=[10, 20]),</span>
<span class="sd">            fname_par=&quot;integral_parameters.test&quot;,</span>
<span class="sd">            fname_s1d=&quot;1d_variance_density.test&quot;,</span>
<span class="sd">            fname_s2d=&quot;2d_variance_density.test&quot;,</span>
<span class="sd">        )</span>
<span class="sd">        print(test.render())</span>
<span class="sd">        import numpy as np</span>
<span class="sd">        test = TEST(</span>
<span class="sd">            points=dict(</span>
<span class="sd">                model_type=&quot;xy&quot;,</span>
<span class="sd">                x=np.linspace(172.5, 174.0, 25),</span>
<span class="sd">                y=25*[-38],</span>
<span class="sd">            ),</span>
<span class="sd">            fname_s2d=&quot;2d_variance_density.test&quot;,</span>
<span class="sd">        )</span>
<span class="sd">        print(test.render())</span>

<span class="sd">    TODO: Support `k` in POINTS IJ.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;TEST&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">itest</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The level of test output, for values under 100 the amount is usually &quot;</span>
            <span class="s2">&quot;reasonable, for values above 200 it can be very large. Values of up to &quot;</span>
            <span class="s2">&quot;50 can be interpreted by the user (SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">itrace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;SWAN writes a message (name of subroutine) to the PRINT file at the &quot;</span>
            <span class="s2">&quot;first `itrace` entries of each subroutine (SWAN default: 0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">points</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">XY</span><span class="p">,</span> <span class="n">IJ</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Points where detailed print output is produced (max of 50 points)&quot;</span><span class="p">,</span>
        <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">fname_par</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the file where the integral parameters are written to&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">fname_par</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the file where the integral parameters are written to&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">fname_s1d</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Name of the file where the 1D variance density and 6 source terms are &quot;</span>
            <span class="s2">&quot;written to&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">fname_s2d</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Name of the file where the 2D variance density and 6 source terms are &quot;</span>
            <span class="s2">&quot;written to&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="TEST.validate_points">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.TEST.html#rompy.swan.components.output.TEST.validate_points">[docs]</a>
    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;points&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate_points</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">XY</span><span class="p">,</span> <span class="n">IJ</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">XY</span><span class="p">,</span> <span class="n">IJ</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">points</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Maximum of 50 points allowed in TEST, got </span><span class="si">{</span><span class="n">points</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">points</span></div>


<div class="viewcode-block" id="TEST.at_least_one">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.TEST.html#rompy.swan.components.output.TEST.at_least_one">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">at_least_one</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TEST&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Warns if no test file is being specified.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fname_par</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fname_s1d</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fname_s2d</span><span class="p">]):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;TEST command prescribed with no output files, please ensure at least &quot;</span>
                <span class="s2">&quot;one of ()`fname_par`, `fname_s1d` or `fname_s2d`) is specified&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="TEST.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.output.TEST.html#rompy.swan.components.output.TEST.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;TEST&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">itest</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; itest=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">itest</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">itrace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; itrace=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">itrace</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; POINTS </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">model_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fname_par</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;PAR fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname_par</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fname_s1d</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;S1D fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname_s1d</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fname_s2d</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;S2D fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname_s2d</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
        <span class="k">return</span> <span class="nb">repr</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span></div>
</div>

</pre></div>

                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2021, CSIRO and rompy contributors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>