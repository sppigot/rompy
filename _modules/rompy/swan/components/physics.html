
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rompy.swan.components.physics &#8212; rompy 0.1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/autodoc_pydantic.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script src="../../../../_static/documentation_options.js?v=01f34227"></script>
    <script src="../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_modules/rompy/swan/components/physics';</script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">rompy 0.1.0 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../quickstart.html">
                        Quickstart
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../core_concepts.html">
                        Core Concepts
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../models.html">
                        Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../demo.html">
                        Demonstration notebooks
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../../../api.html">
                        API  Documentation
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/rom-py/rompy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../quickstart.html">
                        Quickstart
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../core_concepts.html">
                        Core Concepts
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../models.html">
                        Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../demo.html">
                        Demonstration notebooks
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../../../api.html">
                        API  Documentation
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/rom-py/rompy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<h3><a href="../../../../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../core_concepts.html">Core Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../demo.html">Demonstration notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api.html">API  Documentation</a></li>
</ul>
</div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../../index.html" class="nav-link">Module code</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">rompy.swan.c...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <h1>Source code for rompy.swan.components.physics</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Model physics components.&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Literal</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Annotated</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">field_validator</span><span class="p">,</span> <span class="n">model_validator</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">ValidationInfo</span>

<span class="kn">from</span> <span class="nn">rompy.swan.components.base</span> <span class="kn">import</span> <span class="n">BaseComponent</span>
<span class="kn">from</span> <span class="nn">rompy.swan.types</span> <span class="kn">import</span> <span class="n">IDLA</span><span class="p">,</span> <span class="n">PhysicsOff</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.physics</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">JANSSEN</span><span class="p">,</span>
    <span class="n">KOMEN</span><span class="p">,</span>
    <span class="n">WESTHUYSEN</span><span class="p">,</span>
    <span class="n">ST6</span><span class="p">,</span>
    <span class="n">ST6C1</span><span class="p">,</span>
    <span class="n">ST6C2</span><span class="p">,</span>
    <span class="n">ST6C3</span><span class="p">,</span>
    <span class="n">ST6C4</span><span class="p">,</span>
    <span class="n">ST6C5</span><span class="p">,</span>
    <span class="n">ELDEBERKY</span><span class="p">,</span>
    <span class="n">DEWIT</span><span class="p">,</span>
    <span class="n">TRANSM</span><span class="p">,</span>
    <span class="n">TRANS1D</span><span class="p">,</span>
    <span class="n">TRANS2D</span><span class="p">,</span>
    <span class="n">GODA</span><span class="p">,</span>
    <span class="n">DANGREMOND</span><span class="p">,</span>
    <span class="n">REFL</span><span class="p">,</span>
    <span class="n">RSPEC</span><span class="p">,</span>
    <span class="n">RDIFF</span><span class="p">,</span>
    <span class="n">FREEBOARD</span><span class="p">,</span>
    <span class="n">LINE</span><span class="p">,</span>
<span class="p">)</span>


<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<span class="n">SOURCE_TERMS</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span>
    <span class="n">JANSSEN</span><span class="p">,</span>
    <span class="n">KOMEN</span><span class="p">,</span>
    <span class="n">WESTHUYSEN</span><span class="p">,</span>
    <span class="n">ST6</span><span class="p">,</span>
    <span class="n">ST6C1</span><span class="p">,</span>
    <span class="n">ST6C2</span><span class="p">,</span>
    <span class="n">ST6C3</span><span class="p">,</span>
    <span class="n">ST6C4</span><span class="p">,</span>
    <span class="n">ST6C5</span><span class="p">,</span>
<span class="p">]</span>


<span class="c1"># =====================================================================================</span>
<span class="c1"># Wave generation GEN1 | GEN2 | GEN3</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="GEN1">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.GEN1.html#rompy.swan.components.physics.GEN1">[docs]</a>
<span class="k">class</span> <span class="nc">GEN1</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;First generation source terms GEN1.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        GEN1 [cf10] [cf20] [cf30] [cf40] [edmlpm] [cdrag] [umin] [cfpm]</span>

<span class="sd">    With this command the user indicates that SWAN should run in first-generation mode</span>
<span class="sd">    (see Scientific/Technical documentation).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import GEN1</span>
<span class="sd">        gen = GEN1()</span>
<span class="sd">        print(gen.render())</span>
<span class="sd">        kwargs = dict(</span>
<span class="sd">            cf10=188.0,</span>
<span class="sd">            cf20=0.59,</span>
<span class="sd">            cf30=0.12,</span>
<span class="sd">            cf40=250.0,</span>
<span class="sd">            edmlpm=0.0036,</span>
<span class="sd">            cdrag=0.0012,</span>
<span class="sd">            umin=1.0,</span>
<span class="sd">            cfpm=0.13</span>
<span class="sd">        )</span>
<span class="sd">        gen = GEN1(**kwargs)</span>
<span class="sd">        print(gen.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;gen1&quot;</span><span class="p">,</span> <span class="s2">&quot;GEN1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;gen1&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">cf10</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Controls the linear wave growth (SWAN default: 188.0)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">cf20</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Controls the exponential wave growth (SWAN default: 0.59)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">cf30</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Controls the exponential wave growth (SWAN default: 0.12)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">cf40</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Controls the dissipation rate, i.e., the time decay scale &quot;</span>
            <span class="s2">&quot;(SWAN default: 250.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">edmlpm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Maximum non-dimensionless energy density of the wind sea part of the &quot;</span>
            <span class="s2">&quot;spectrum according to Pierson Moskowitz (SWAN default: 0.0036)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">cdrag</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Drag coefficient (SWAN default: 0.0012)&quot;</span>
    <span class="p">)</span>
    <span class="n">umin</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Minimum wind velocity (relative to current; all wind speeds &quot;</span>
            <span class="s2">&quot;are taken at 10 m above sea level) (SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">cfpm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Coefficient which determines the Pierson Moskowitz frequency: &quot;</span>
            <span class="s2">&quot;`delta_PM = 2pi g / U_10` (SWAN default: 0.13)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="GEN1.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.GEN1.html#rompy.swan.components.physics.GEN1.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command line string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;GEN1&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf10</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf10=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf10</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf20</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf20=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf20</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf30</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf30=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf30</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf40</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf40=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf40</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">edmlpm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; edmlpm=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">edmlpm</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cdrag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cdrag=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cdrag</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">umin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; umin=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">umin</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfpm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cfpm=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cfpm</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="GEN2">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.GEN2.html#rompy.swan.components.physics.GEN2">[docs]</a>
<span class="k">class</span> <span class="nc">GEN2</span><span class="p">(</span><span class="n">GEN1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Second generation source terms GEN2.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        GEN2 [cf10] [cf20] [cf30] [cf40] [cf50] [cf60] [edmlpm] [cdrag] [umin] [cfpm]</span>

<span class="sd">    With this command the user indicates that SWAN should run in second-generation mode</span>
<span class="sd">    (see Scientific/Technical documentation).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import GEN2</span>
<span class="sd">        gen = GEN2()</span>
<span class="sd">        print(gen.render())</span>
<span class="sd">        kwargs = dict(</span>
<span class="sd">            cf10=188.0,</span>
<span class="sd">            cf20=0.59,</span>
<span class="sd">            cf30=0.12,</span>
<span class="sd">            cf40=250.0,</span>
<span class="sd">            cf50=0.0023,</span>
<span class="sd">            cf60=-0.223,</span>
<span class="sd">            edmlpm=0.0036,</span>
<span class="sd">            cdrag=0.0012,</span>
<span class="sd">            umin=1.0,</span>
<span class="sd">            cfpm=0.13</span>
<span class="sd">        )</span>
<span class="sd">        gen = GEN2(**kwargs)</span>
<span class="sd">        print(gen.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;gen2&quot;</span><span class="p">,</span> <span class="s2">&quot;GEN2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;gen2&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">cf50</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Controls the spectral energy scale of the limit spectrum &quot;</span>
            <span class="s2">&quot;(SWAN default: 0.0023)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">cf60</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Ccontrols the spectral energy scale of the limit spectrum &quot;</span>
            <span class="s2">&quot;(SWAN default: -0.223&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="GEN2.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.GEN2.html#rompy.swan.components.physics.GEN2.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command line string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;GEN2&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf10</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf10=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf10</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf20</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf20=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf20</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf30</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf30=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf30</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf40</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf40=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf40</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf50</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf50=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf50</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cf60</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cf60=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cf60</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">edmlpm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; edmlpm=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">edmlpm</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cdrag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cdrag=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cdrag</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">umin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; umin=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">umin</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfpm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cfpm=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cfpm</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="GEN3">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.GEN3.html#rompy.swan.components.physics.GEN3">[docs]</a>
<span class="k">class</span> <span class="nc">GEN3</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Third generation source terms GEN3.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        GEN3 JANSSEN|KOMEN|-&gt;WESTHUYSEN|ST6 AGROW [a]</span>

<span class="sd">    With this command the user indicates that SWAN should run in third-generation mode</span>
<span class="sd">    for wind input, quadruplet interactions and whitecapping.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import GEN3</span>
<span class="sd">        gen = GEN3(</span>
<span class="sd">            source_terms=dict(</span>
<span class="sd">                model_type=&quot;westhuysen&quot;,</span>
<span class="sd">                wind_drag=&quot;wu&quot;,</span>
<span class="sd">                agrow=True,</span>
<span class="sd">            ),</span>
<span class="sd">        )</span>
<span class="sd">        print(gen.render())</span>
<span class="sd">        from rompy.swan.subcomponents.physics import ST6C1</span>
<span class="sd">        gen = GEN3(source_terms=ST6C1())</span>
<span class="sd">        print(gen.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;gen3&quot;</span><span class="p">,</span> <span class="s2">&quot;GEN3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;gen3&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">source_terms</span><span class="p">:</span> <span class="n">SOURCE_TERMS</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">WESTHUYSEN</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;SWAN source terms to be used (SWAN default: WESTHUYSEN)&quot;</span><span class="p">,</span>
        <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="GEN3.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.GEN3.html#rompy.swan.components.physics.GEN3.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command line string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;GEN3 </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">source_terms</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># Swell dissipation SSWELL</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="NEGATINP">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.NEGATINP.html#rompy.swan.components.physics.NEGATINP">[docs]</a>
<span class="k">class</span> <span class="nc">NEGATINP</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Negative wind input.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        NEGATINP [rdcoef]</span>

<span class="sd">    With this optional command the user activates negative wind input. **This is</span>
<span class="sd">    intended only for use with non-breaking swell dissipation SSWELL ZIEGER**.</span>
<span class="sd">    Parameter `rdcoef` is a fraction between 0 and 1, representing the strength of</span>
<span class="sd">    negative wind input. As an example, with [rdcoef]=0.04, for a spectral bin that is</span>
<span class="sd">    opposed to the wind direction, the wind input factor W(k, θ) is negative, and its</span>
<span class="sd">    magnitude is 4% of the corresponding value of the spectral bin that is in the</span>
<span class="sd">    opposite direction (i.e. in the wind direction). See Zieger et al. (2015) eq. 11,</span>
<span class="sd">    where a0 is their notation for [rdcoef]. Default [rdcoef]=0.0 and `rdcoef=0.04` is</span>
<span class="sd">    recommended, though as implied by Zieger et al. (2015), this value is not</span>
<span class="sd">    well-established, so the user is encouraged to experiment with other values.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Zieger, S., Babanin, A.V., Rogers, W.E. and Young, I.R., 2015. Observation-based</span>
<span class="sd">    source terms in the third-generation wave model WAVEWATCH. Ocean Modelling, 96,</span>
<span class="sd">    pp.2-25.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import NEGATINP</span>
<span class="sd">        negatinp = NEGATINP()</span>
<span class="sd">        print(negatinp.render())</span>
<span class="sd">        negatinp = NEGATINP(rdcoef=0.04)</span>
<span class="sd">        print(negatinp.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;negatinp&quot;</span><span class="p">,</span> <span class="s2">&quot;NEGATINP&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;negatinp&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">rdcoef</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Coefficient representing the strength of negative wind input&quot;</span><span class="p">,</span>
        <span class="n">ge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">le</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="NEGATINP.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.NEGATINP.html#rompy.swan.components.physics.NEGATINP.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;NEGATINP&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rdcoef</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; rdcoef=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rdcoef</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="SSWELL_ROGERS">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SSWELL_ROGERS.html#rompy.swan.components.physics.SSWELL_ROGERS">[docs]</a>
<span class="k">class</span> <span class="nc">SSWELL_ROGERS</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Nonbreaking dissipation of Rogers et al. (2012).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SSWELL ROGERS [cdsv] [feswell]</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Rogers, W.E., Babanin, A.V. and Wang, D.W., 2012. Observation-consistent input and</span>
<span class="sd">    whitecapping dissipation in a model for wind-generated surface waves: Description</span>
<span class="sd">    and simple calculations. Journal of Atmospheric and Oceanic Technology, 29(9),</span>
<span class="sd">    pp.1329-1346.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import SSWELL_ROGERS</span>
<span class="sd">        sswell = SSWELL_ROGERS()</span>
<span class="sd">        print(sswell.render())</span>
<span class="sd">        sswell = SSWELL_ROGERS(cdsv=1.2, feswell=0.5)</span>
<span class="sd">        print(sswell.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;rogers&quot;</span><span class="p">,</span> <span class="s2">&quot;ROGERS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;rogers&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">cdsv</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Coefficient related to laminar atmospheric boundary layer &quot;</span>
            <span class="s2">&quot;(SWAN default: 1.2)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">feswell</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Swell dissipation factor&quot;</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SSWELL_ROGERS.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SSWELL_ROGERS.html#rompy.swan.components.physics.SSWELL_ROGERS.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;SSWELL ROGERS&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cdsv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cdsv=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cdsv</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">feswell</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; feswell=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">feswell</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="SSWELL_ARDHUIN">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SSWELL_ARDHUIN.html#rompy.swan.components.physics.SSWELL_ARDHUIN">[docs]</a>
<span class="k">class</span> <span class="nc">SSWELL_ARDHUIN</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Nonbreaking dissipation of Ardhuin et al. (2010).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SSWELL ARDHUIN [cdsv]</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Ardhuin, F., Rogers, E., Babanin, A.V., Filipot, J.F., Magne, R., Roland, A.,</span>
<span class="sd">    Van Der Westhuysen, A., Queffeulou, P., Lefevre, J.M., Aouf, L. and Collard, F.,</span>
<span class="sd">    2010. Semiempirical dissipation source functions for ocean waves. Part I:</span>
<span class="sd">    Definition, calibration, and validation. Journal of Physical Oceanography, 40(9),</span>
<span class="sd">    pp.1917-1941.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import SSWELL_ARDHUIN</span>
<span class="sd">        sswell = SSWELL_ARDHUIN()</span>
<span class="sd">        print(sswell.render())</span>
<span class="sd">        sswell = SSWELL_ARDHUIN(cdsv=1.2)</span>
<span class="sd">        print(sswell.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ardhuin&quot;</span><span class="p">,</span> <span class="s2">&quot;ARDHUIN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;ardhuin&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">cdsv</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Coefficient related to laminar atmospheric boundary layer &quot;</span>
            <span class="s2">&quot;(SWAN default: 1.2)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SSWELL_ARDHUIN.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SSWELL_ARDHUIN.html#rompy.swan.components.physics.SSWELL_ARDHUIN.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;SSWELL ARDHUIN&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cdsv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cdsv=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cdsv</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="SSWELL_ZIEGER">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SSWELL_ZIEGER.html#rompy.swan.components.physics.SSWELL_ZIEGER">[docs]</a>
<span class="k">class</span> <span class="nc">SSWELL_ZIEGER</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Nonbreaking dissipation of Zieger et al. (2015).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SSWELL ZIEGER [b1]</span>

<span class="sd">    Swell dissipation of Young et al. (2013) updated by Zieger et al. (2015). The</span>
<span class="sd">    Zieger option is intended for use with negative wind input via the NEGATINP</span>
<span class="sd">    command. Zieger non-breaking dissipation follows the method used in WAVEWATCH III</span>
<span class="sd">    version 4 and does not include the steepness-dependent swell coefficient introduced</span>
<span class="sd">    in WAVEWATCH III version 5.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Zieger, S., Babanin, A.V., Rogers, W.E. and Young, I.R., 2015. Observation-based</span>
<span class="sd">    source terms in the third-generation wave model WAVEWATCH. Ocean Modelling, 96,</span>
<span class="sd">    pp.2-25.</span>

<span class="sd">    Young, I.R., Babanin, A.V. and Zieger, S., 2013. The decay rate of ocean swell</span>
<span class="sd">    observed by altimeter. Journal of physical oceanography, 43(11), pp.2322-2333.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import SSWELL_ZIEGER</span>
<span class="sd">        sswell = SSWELL_ZIEGER()</span>
<span class="sd">        print(sswell.render())</span>
<span class="sd">        sswell = SSWELL_ZIEGER(b1=0.00025)</span>
<span class="sd">        print(sswell.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;zieger&quot;</span><span class="p">,</span> <span class="s2">&quot;ZIEGER&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;zieger&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">b1</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Non-dimensional proportionality coefficient &quot;</span>
        <span class="s2">&quot;(SWAN default: 0.00025)&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SSWELL_ZIEGER.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SSWELL_ZIEGER.html#rompy.swan.components.physics.SSWELL_ZIEGER.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;SSWELL ZIEGER&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">b1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; b1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b1</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># WCAPPING</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="WCAPPING_KOMEN">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.WCAPPING_KOMEN.html#rompy.swan.components.physics.WCAPPING_KOMEN">[docs]</a>
<span class="k">class</span> <span class="nc">WCAPPING_KOMEN</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Whitecapping according to Komen (1984).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        WCAPPING KOMEN [cds2] [stpm] [powst] [delta] [powk]</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    The SWAN default for `delta` has been changed since version 40.91A. The setting</span>
<span class="sd">    `delta = 1` will improve the prediction of the wave energy at low frequencies, and</span>
<span class="sd">    hence the mean wave period. The original default was `delta = 0`, which corresponds</span>
<span class="sd">    to WAM Cycle 3. See the Scientific/Technical documentation for further details.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Komen, G.J., Hasselmann, S. and Hasselmann, K., 1984. On the existence of a fully</span>
<span class="sd">    developed wind-sea spectrum. Journal of physical oceanography, 14(8), pp.1271-1285.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import WCAPPING_KOMEN</span>
<span class="sd">        wcapping = WCAPPING_KOMEN()</span>
<span class="sd">        print(wcapping.render())</span>
<span class="sd">        wcapping = WCAPPING_KOMEN(cds2=2.36e-5, stpm=3.02e-3, powst=2, delta=1, powk=2)</span>
<span class="sd">        print(wcapping.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;komen&quot;</span><span class="p">,</span> <span class="s2">&quot;KOMEN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;komen&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">cds2</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Coefficient for determining the rate of whitecapping dissipation ($Cds$) &quot;</span>
            <span class="s2">&quot;(SWAN default: 2.36e-5)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">stpm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Value of the wave steepness for a Pierson-Moskowitz spectrum &quot;</span>
            <span class="s2">&quot;($s^2_</span><span class="si">{PM}</span><span class="s2">$) (SWAN default: 3.02e-3)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">powst</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Power of steepness normalized with the wave steepness &quot;</span>
            <span class="s2">&quot;of a Pierson-Moskowitz spectrum (SWAN default: 2)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">delta</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Coefficient which determines the dependency of the whitecapping &quot;</span>
            <span class="s2">&quot;on wave number (SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">powk</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;power of wave number normalized with the mean wave number &quot;</span>
            <span class="s2">&quot;(SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="WCAPPING_KOMEN.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.WCAPPING_KOMEN.html#rompy.swan.components.physics.WCAPPING_KOMEN.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;WCAPPING KOMEN&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cds2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cds2=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cds2</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stpm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; stpm=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">stpm</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">powst</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; powst=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">powst</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delta</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; delta=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">delta</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">powk</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; powk=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">powk</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="WCAPPING_AB">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.WCAPPING_AB.html#rompy.swan.components.physics.WCAPPING_AB">[docs]</a>
<span class="k">class</span> <span class="nc">WCAPPING_AB</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Whitecapping according to Alves and Banner (2003).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        WCAPPING AB [cds2] [br] CURRENT [cds3]</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Alves, J.H.G. and Banner, M.L., 2003. Performance of a saturation-based</span>
<span class="sd">    dissipation-rate source term in modeling the fetch-limited evolution of wind waves.</span>
<span class="sd">    Journal of Physical Oceanography, 33(6), pp.1274-1298.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import WCAPPING_AB</span>
<span class="sd">        wcapping = WCAPPING_AB()</span>
<span class="sd">        print(wcapping.render())</span>
<span class="sd">        wcapping = WCAPPING_AB(cds2=5.0e-5, br=1.75e-3, current=True, cds3=0.8)</span>
<span class="sd">        print(wcapping.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;AB&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">cds2</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;proportionality coefficient due to Alves and Banner (2003) &quot;</span>
            <span class="s2">&quot;(SWAN default: 5.0e-5)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">br</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Threshold saturation level	(SWAN default: 1.75e-3)&quot;</span>
    <span class="p">)</span>
    <span class="n">current</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Indicates that enhanced current-induced dissipation &quot;</span>
            <span class="s2">&quot;as proposed by Van der Westhuysen (2012) is to be added&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">cds3</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Proportionality coefficient (SWAN default: 0.8)&quot;</span>
    <span class="p">)</span>

<div class="viewcode-block" id="WCAPPING_AB.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.WCAPPING_AB.html#rompy.swan.components.physics.WCAPPING_AB.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;WCAPPING AB&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cds2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cds2=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cds2</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">br</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; br=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">br</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; CURRENT&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cds3</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cds3=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cds3</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># QUADRUPL</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="QUADRUPL">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.QUADRUPL.html#rompy.swan.components.physics.QUADRUPL">[docs]</a>
<span class="k">class</span> <span class="nc">QUADRUPL</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Nonlinear quadruplet wave interactions.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        QUADRUPL [iquad] [lambda] [cnl4] [Csh1] [Csh2] [Csh3]</span>

<span class="sd">    With this option the user can influence the computation of nonlinear quadruplet</span>
<span class="sd">    wave interactions which are usually included in the computations. Can be</span>
<span class="sd">    de-activated with command OFF QUAD. Note that the DIA approximation of the</span>
<span class="sd">    quadruplet interactions is a poor approximation for long-crested waves and</span>
<span class="sd">    frequency resolutions that are deviating much more than 10% (see command CGRID).</span>
<span class="sd">    Note that DIA is usually updated per sweep, either semi-implicit (`iquad = 1`) or</span>
<span class="sd">    explicit (`iquad = 2`). However, when ambient current is included, the bounds of</span>
<span class="sd">    the directional sector within a sweep may be different for each frequency bin</span>
<span class="sd">    (particularly the higher frequencies are modified by the current). So there may be</span>
<span class="sd">    some overlap of frequency bins between the sweeps, implying non-conservation of</span>
<span class="sd">    wave energy. To prevent this the user is advised to choose the integration of DIA</span>
<span class="sd">    per iteration instead of per sweep, i.e. `iquad = 3`. If you want to speed up your</span>
<span class="sd">    computation a bit more, than the choice `iquad = 8` is a good choice.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import QUADRUPL</span>
<span class="sd">        quadrupl = QUADRUPL()</span>
<span class="sd">        print(quadrupl.render())</span>
<span class="sd">        kwargs = dict(</span>
<span class="sd">            iquad=3, lambd=0.25, cnl4=3.0e7, csh1=5.5, csh2=0.833333, csh3=-1.25</span>
<span class="sd">        )</span>
<span class="sd">        quadrupl = QUADRUPL(**kwargs)</span>
<span class="sd">        print(quadrupl.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;quadrupl&quot;</span><span class="p">,</span> <span class="s2">&quot;QUADRUPL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;quadrupl&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">iquad</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">53</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Numerical procedures for integrating the quadruplets: 1 = semi-implicit &quot;</span>
            <span class="s2">&quot;per sweep, 2 = explicit per sweep, 3 = explicit per iteration, &quot;</span>
            <span class="s2">&quot;8 = explicit per iteration, but with a more efficient implementation, &quot;</span>
            <span class="s2">&quot;4 = multiple DIA, 51 = XNL (deep water transfer), 52 = XNL (deep water &quot;</span>
            <span class="s2">&quot;transfer with WAM depth scaling), 53  XNL (finite depth transfer) (SWAN &quot;</span>
            <span class="s2">&quot;default: 2)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">lambd</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Coefficient for quadruplet configuration in case of DIA &quot;</span>
            <span class="s2">&quot;(SWAN default: 0.25)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">cnl4</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Proportionality coefficient for quadruplet interactions in case of DIA &quot;</span>
            <span class="s2">&quot;(SWAN default: 3.0e7&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">csh1</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Coefficient for shallow water scaling in case of DIA (SWAN default: 5.5)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">csh2</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Coefficient for shallow water scaling in case of DIA &quot;</span>
            <span class="s2">&quot;(SWAN default: 0.833333)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">csh3</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Coefficient for shallow water scaling in case of DIA &quot;</span>
            <span class="s2">&quot;(SWAN default: -1.25)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="QUADRUPL.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.QUADRUPL.html#rompy.swan.components.physics.QUADRUPL.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;QUADRUPL&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">iquad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; iquad=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">iquad</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lambd</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; lambda=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">lambd</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cnl4</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cnl4=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cnl4</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">csh1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; csh1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">csh1</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">csh2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; csh2=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">csh2</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">csh3</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; csh3=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">csh3</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># BREAKING</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="BREAKING_CONSTANT">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BREAKING_CONSTANT.html#rompy.swan.components.physics.BREAKING_CONSTANT">[docs]</a>
<span class="k">class</span> <span class="nc">BREAKING_CONSTANT</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constant wave breaking index.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        BREAKING CONSTANT [alpha] [gamma]</span>

<span class="sd">    Indicates that a constant breaker index is to be used.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import BREAKING_CONSTANT</span>
<span class="sd">        breaking = BREAKING_CONSTANT()</span>
<span class="sd">        print(breaking.render())</span>
<span class="sd">        breaking = BREAKING_CONSTANT(alpha=1.0, gamma=0.73)</span>
<span class="sd">        print(breaking.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;constant&quot;</span><span class="p">,</span> <span class="s2">&quot;CONSTANT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;constant&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">alpha</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Proportionality coefficient of the rate of dissipation &quot;</span>
            <span class="s2">&quot;(SWAN default: 1.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">gamma</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The breaker index, i.e. the ratio of maximum individual wave height &quot;</span>
            <span class="s2">&quot;over depth (SWAN default: 0.73)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="BREAKING_CONSTANT.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BREAKING_CONSTANT.html#rompy.swan.components.physics.BREAKING_CONSTANT.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;BREAKING CONSTANT&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; alpha=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">alpha</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">gamma</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; gamma=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">gamma</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="BREAKING_BKD">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BREAKING_BKD.html#rompy.swan.components.physics.BREAKING_BKD">[docs]</a>
<span class="k">class</span> <span class="nc">BREAKING_BKD</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Variable wave breaking index.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        BREAKING BKD [alpha] [gamma0] [a1] [a2] [a3]</span>

<span class="sd">    Indicates that the breaker index scales with both the bottom slope (`beta`)</span>
<span class="sd">    and the dimensionless depth (kd).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import BREAKING_BKD</span>
<span class="sd">        breaking = BREAKING_BKD()</span>
<span class="sd">        print(breaking.render())</span>
<span class="sd">        breaking = BREAKING_BKD(alpha=1.0, gamma0=0.54, a1=7.59, a2=-8.06, a3=8.09)</span>
<span class="sd">        print(breaking.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;bkd&quot;</span><span class="p">,</span> <span class="s2">&quot;BKD&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;bkd&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">alpha</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Proportionality coefficient of the rate of dissipation &quot;</span>
            <span class="s2">&quot;(SWAN default: 1.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">gamma0</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The reference $gamma$ for horizontal slopes (SWAN default: 0.54)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">a1</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;First tunable coefficient for the breaker index (SWAN default: 7.59)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">a2</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Second tunable coefficient for the breaker index (SWAN default: -8.06)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">a3</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Third tunable coefficient for the breaker index (SWAN default: 8.09)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="BREAKING_BKD.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BREAKING_BKD.html#rompy.swan.components.physics.BREAKING_BKD.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;BREAKING BKD&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; alpha=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">alpha</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">gamma0</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; gamma0=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">gamma0</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; a1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a1</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; a2=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a2</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a3</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; a3=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a3</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># FRICTION</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="FRICTION_JONSWAP">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.FRICTION_JONSWAP.html#rompy.swan.components.physics.FRICTION_JONSWAP">[docs]</a>
<span class="k">class</span> <span class="nc">FRICTION_JONSWAP</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hasselmann et al. (1973) Jonswap friction.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        FRICTION JONSWAP CONSTANT [cfjon]</span>

<span class="sd">    Indicates that the semi-empirical expression derived from the JONSWAP results for</span>
<span class="sd">    bottom friction dissipation (Hasselmann et al., 1973, JONSWAP) should be activated.</span>
<span class="sd">    This option is default.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Hasselmann, K., Barnett, T.P., Bouws, E., Carlson, H., Cartwright, D.E., Enke, K.,</span>
<span class="sd">    Ewing, J.A., Gienapp, A., Hasselmann, D.E., Kruseman, P. and Meerburg, A., 1973.</span>
<span class="sd">    Measurements of wind-wave growth and swell decay during the Joint North Sea Wave</span>
<span class="sd">    Project (JONSWAP). Deutches Hydrographisches Institut, Hamburg, Germany,</span>
<span class="sd">    Rep. No. 12, 95 pp.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import FRICTION_JONSWAP</span>
<span class="sd">        friction = FRICTION_JONSWAP()</span>
<span class="sd">        print(friction.render())</span>
<span class="sd">        friction = FRICTION_JONSWAP(cfjon=0.038)</span>
<span class="sd">        print(friction.render())</span>

<span class="sd">    TODO: Implement VARIABLE option?</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;jonswap&quot;</span><span class="p">,</span> <span class="s2">&quot;JONSWAP&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;jonswap&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">cfjon</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Coefficient of the JONSWAP formulation (SWAN default: 0.038)&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="FRICTION_JONSWAP.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.FRICTION_JONSWAP.html#rompy.swan.components.physics.FRICTION_JONSWAP.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;FRICTION JONSWAP CONSTANT&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfjon</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cfjon=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cfjon</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="FRICTION_COLLINS">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.FRICTION_COLLINS.html#rompy.swan.components.physics.FRICTION_COLLINS">[docs]</a>
<span class="k">class</span> <span class="nc">FRICTION_COLLINS</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Collins (1972) friction.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        FRICTION COLLINS [cfw]</span>

<span class="sd">    Note that `cfw` is allowed to vary over the computational region; in that case use</span>
<span class="sd">    the commands INPGRID FRICTION and READINP FRICTION to define and read the friction</span>
<span class="sd">    data. This command FRICTION is still required to define the type of friction</span>
<span class="sd">    expression. The value of `cfw` in this command is then not required (it will be</span>
<span class="sd">    ignored).</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Collins, J.I., 1972. Prediction of shallow-water spectra. Journal of Geophysical</span>
<span class="sd">    Research, 77(15), pp.2693-2707.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import FRICTION_COLLINS</span>
<span class="sd">        friction = FRICTION_COLLINS()</span>
<span class="sd">        print(friction.render())</span>
<span class="sd">        friction = FRICTION_COLLINS(cfw=0.038)</span>
<span class="sd">        print(friction.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;collins&quot;</span><span class="p">,</span> <span class="s2">&quot;COLLINS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;collins&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">cfw</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Collins bottom friction coefficient (SWAN default: 0.015)&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="FRICTION_COLLINS.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.FRICTION_COLLINS.html#rompy.swan.components.physics.FRICTION_COLLINS.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;FRICTION COLLINS&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cfw=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cfw</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="FRICTION_MADSEN">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.FRICTION_MADSEN.html#rompy.swan.components.physics.FRICTION_MADSEN">[docs]</a>
<span class="k">class</span> <span class="nc">FRICTION_MADSEN</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Madsen et al (1988) friction.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        FRICTION MADSEN [kn]</span>

<span class="sd">    Note that `kn` is allowed to vary over the computational region; in that case use</span>
<span class="sd">    the commands INPGRID FRICTION and READINP FRICTION to define and read the friction</span>
<span class="sd">    data. This command FRICTION is still required to define the type of friction</span>
<span class="sd">    expression. The value of `kn` in this command is then not required (it will be</span>
<span class="sd">    ignored).</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Madsen, O.S., Poon, Y.K. and Graber, H.C., 1988. Spectral wave attenuation by</span>
<span class="sd">    bottom friction: Theory. In Coastal engineering 1988 (pp. 492-504).</span>

<span class="sd">    Madsen, O.S. and Rosengaus, M.M., 1988. Spectral wave attenuation by bottom</span>
<span class="sd">    friction: Experiments. In Coastal Engineering 1988 (pp. 849-857).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import FRICTION_MADSEN</span>
<span class="sd">        friction = FRICTION_MADSEN()</span>
<span class="sd">        print(friction.render())</span>
<span class="sd">        friction = FRICTION_MADSEN(kn=0.038)</span>
<span class="sd">        print(friction.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;madsen&quot;</span><span class="p">,</span> <span class="s2">&quot;MADSEN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;madsen&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">kn</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;equivalent roughness length scale of the bottom (in m) &quot;</span>
            <span class="s2">&quot;(SWAN default: 0.05)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="FRICTION_MADSEN.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.FRICTION_MADSEN.html#rompy.swan.components.physics.FRICTION_MADSEN.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;FRICTION MADSEN&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; kn=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kn</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="FRICTION_RIPPLES">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.FRICTION_RIPPLES.html#rompy.swan.components.physics.FRICTION_RIPPLES">[docs]</a>
<span class="k">class</span> <span class="nc">FRICTION_RIPPLES</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Smith et al. (2011) Ripples friction.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        FRICTION RIPPLES [S] [D]</span>

<span class="sd">    Indicates that the expression of Smith et al. (2011) should be activated. Here</span>
<span class="sd">    friction depends on the formation of bottom ripples and sediment size.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Smith, G.A., Babanin, A.V., Riedel, P., Young, I.R., Oliver, S. and Hubbert, G.,</span>
<span class="sd">    2011. Introduction of a new friction routine into the SWAN model that evaluates</span>
<span class="sd">    roughness due to bedform and sediment size changes. Coastal Engineering, 58(4),</span>
<span class="sd">    pp.317-326.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import FRICTION_RIPPLES</span>
<span class="sd">        friction = FRICTION_RIPPLES()</span>
<span class="sd">        print(friction.render())</span>
<span class="sd">        friction = FRICTION_RIPPLES(s=2.65, d=0.0001)</span>
<span class="sd">        print(friction.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ripples&quot;</span><span class="p">,</span> <span class="s2">&quot;RIPPLES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;ripples&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">s</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The specific gravity of the sediment (SWAN default: 2.65)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">d</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The sediment diameter (in m) (SWAN default: 0.0001)&quot;</span>
    <span class="p">)</span>

<div class="viewcode-block" id="FRICTION_RIPPLES.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.FRICTION_RIPPLES.html#rompy.swan.components.physics.FRICTION_RIPPLES.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;FRICTION RIPPLES&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; S=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; D=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># TRIAD</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="TRIAD">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TRIAD.html#rompy.swan.components.physics.TRIAD">[docs]</a>
<span class="k">class</span> <span class="nc">TRIAD</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wave triad interactions.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        TRIAD [itriad] [trfac] [cutfr] [a] [b] [urcrit] [urslim]</span>

<span class="sd">    With this command the user can activate the triad wave-wave interactions. If this</span>
<span class="sd">    command is not used, SWAN will not account for triads.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    This is the TRIAD specification in SWAN &lt; 41.45.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import TRIAD</span>
<span class="sd">        triad = TRIAD()</span>
<span class="sd">        print(triad.render())</span>
<span class="sd">        triad = TRIAD(</span>
<span class="sd">            itriad=1,</span>
<span class="sd">            trfac=0.8,</span>
<span class="sd">            cutfr=2.5,</span>
<span class="sd">            a=0.95,</span>
<span class="sd">            b=-0.75,</span>
<span class="sd">            ucrit=0.2,</span>
<span class="sd">            urslim=0.01,</span>
<span class="sd">        )</span>
<span class="sd">        print(triad.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;triad&quot;</span><span class="p">,</span> <span class="s2">&quot;TRIAD&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;triad&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">itriad</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Approximation method for the triad computation: </span><span class="se">\n\n</span><span class="s2">* 1: the LTA method &quot;</span>
            <span class="s2">&quot;of Eldeberky (1996) </span><span class="se">\n</span><span class="s2">* 2: the SPB method of Becq-Girard et al. (1999) &quot;</span>
            <span class="s2">&quot;(SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">trfac</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Proportionality coefficient (SWAN default: 0.8 in case of LTA method, &quot;</span>
            <span class="s2">&quot;0.9 in case of SPB method)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">cutfr</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Controls the maximum frequency that is considered in the LTA &quot;</span>
            <span class="s2">&quot;computation. The value of `cutfr` is the ratio of this maximum &quot;</span>
            <span class="s2">&quot;frequency over the mean frequency (SWAN default: 2.5)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">a</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;First calibration parameter for tuning K in Eq. (5.1) of Becq-Girard et &quot;</span>
            <span class="s2">&quot;al. (1999). This parameter is associated with broadening of the &quot;</span>
            <span class="s2">&quot;resonance condition (SWAN default: 0.95)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">b</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Second calibration parameter for tuning K in Eq. (5.1) of Becq-Girard &quot;</span>
            <span class="s2">&quot;et al. (1999). This parameter is associated with broadening of the &quot;</span>
            <span class="s2">&quot;resonance condition (SWAN default: -0.75 for 1D, 0.0 for 2D&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">ucrit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The critical Ursell number appearing in the expression for the biphase &quot;</span>
            <span class="s2">&quot;(SWAN default: 0.2)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">urslim</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The lower threshold for Ursell number, if the actual Ursell number is &quot;</span>
            <span class="s2">&quot;below this value triad interactions are be computed (SWAN default: 0.01)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="TRIAD.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TRIAD.html#rompy.swan.components.physics.TRIAD.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;TRIAD&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">itriad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; itriad=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">itriad</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trfac</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; trfac=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">trfac</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cutfr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cutfr=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cutfr</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; a=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; b=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ucrit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; urcrit=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ucrit</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">urslim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; urslim=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">urslim</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="TRIAD_DCTA">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TRIAD_DCTA.html#rompy.swan.components.physics.TRIAD_DCTA">[docs]</a>
<span class="k">class</span> <span class="nc">TRIAD_DCTA</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Triad interactions with the DCTA method of Booij et al. (2009).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        TRIAD DCTA [trfac] [p] COLL|NONC BIPHHASE ELDEBERKY|DEWIT</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Booij, N., Holthuijsen, L.H. and Bénit, M.P., 2009. A distributed collinear triad</span>
<span class="sd">    approximation in SWAN. In Proceedings Of Coastal Dynamics 2009: Impacts of Human</span>
<span class="sd">    Activities on Dynamic Coastal Processes (With CD-ROM) (pp. 1-10).</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    This is the default method to compute the triad interactions in SWAN &gt;= 41.45, it</span>
<span class="sd">    is not supported in earlier versions of the model.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import TRIAD_DCTA</span>
<span class="sd">        triad = TRIAD_DCTA()</span>
<span class="sd">        print(triad.render())</span>
<span class="sd">        triad = TRIAD_DCTA(</span>
<span class="sd">            trfac=4.4,</span>
<span class="sd">            p=1.3,</span>
<span class="sd">            noncolinear=True,</span>
<span class="sd">            biphase={&quot;model_type&quot;: &quot;dewit&quot;, &quot;lpar&quot;: 0.0},</span>
<span class="sd">        )</span>
<span class="sd">        print(triad.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;dcta&quot;</span><span class="p">,</span> <span class="s2">&quot;DCTA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;dcta&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">trfac</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Scaling factor that controls the intensity of &quot;</span>
            <span class="s2">&quot;the triad interaction due to DCTA (SWAN default: 4.4)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">p</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Shape coefficient to force the high-frequency tail&quot;</span> <span class="s2">&quot;(SWAN default: 4/3)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">noncolinear</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;If True, the noncolinear triad interactions &quot;</span>
            <span class="s2">&quot;with the DCTA framework are accounted for&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">biphase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ELDEBERKY</span><span class="p">,</span> <span class="n">DEWIT</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Defines the parameterization of biphase (self-self interaction) &quot;</span>
            <span class="s2">&quot;(SWAN default: ELDEBERKY)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="TRIAD_DCTA.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TRIAD_DCTA.html#rompy.swan.components.physics.TRIAD_DCTA.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;TRIAD DCTA&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trfac</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; trfac=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">trfac</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">p</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; p=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">noncolinear</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="s2">&quot; NONC&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="s2">&quot; COLL&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">biphase</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">biphase</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="TRIAD_LTA">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TRIAD_LTA.html#rompy.swan.components.physics.TRIAD_LTA">[docs]</a>
<span class="k">class</span> <span class="nc">TRIAD_LTA</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Triad interactions with the LTA method of Eldeberky (1996).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        TRIAD LTA [trfac] [cutfr] BIPHHASE ELDEBERKY|DEWIT</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Eldeberky, Y., Polnikov, V. and Battjes, J.A., 1996. A statistical approach for</span>
<span class="sd">    modeling triad interactions in dispersive waves. In Coastal Engineering 1996</span>
<span class="sd">    (pp. 1088-1101).</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    This method to compute the triad interactions is only supported in SWAN &gt;= 41.45.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import TRIAD_LTA</span>
<span class="sd">        triad = TRIAD_LTA()</span>
<span class="sd">        print(triad.render())</span>
<span class="sd">        triad = TRIAD_LTA(</span>
<span class="sd">            trfac=0.8,</span>
<span class="sd">            cutfr=2.5,</span>
<span class="sd">            biphase={&quot;model_type&quot;: &quot;eldeberky&quot;, &quot;urcrit&quot;: 0.63},</span>
<span class="sd">        )</span>
<span class="sd">        print(triad.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;lta&quot;</span><span class="p">,</span> <span class="s2">&quot;LTA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;lta&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">trfac</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Scaling factor that controls the intensity of &quot;</span>
            <span class="s2">&quot;the triad interaction due to LTA (SWAN default: 0.8)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">cutfr</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Controls the maximum frequency that is considered in the LTA &quot;</span>
            <span class="s2">&quot;computation. The value of `cutfr` is the ratio of this maximum &quot;</span>
            <span class="s2">&quot;frequency over the mean frequency (SWAN default: 2.5)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">biphase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ELDEBERKY</span><span class="p">,</span> <span class="n">DEWIT</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Defines the parameterization of biphase (self-self interaction) &quot;</span>
            <span class="s2">&quot;(SWAN default: ELDEBERKY)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="TRIAD_LTA.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TRIAD_LTA.html#rompy.swan.components.physics.TRIAD_LTA.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;TRIAD LTA&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trfac</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; trfac=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">trfac</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cutfr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cutfr=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cutfr</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">biphase</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">biphase</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="TRIAD_SPB">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TRIAD_SPB.html#rompy.swan.components.physics.TRIAD_SPB">[docs]</a>
<span class="k">class</span> <span class="nc">TRIAD_SPB</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Triad interactions with the SPB method of Becq-Girard et al. (1999).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        TRIAD SPB [trfac] [a] [b] BIPHHASE ELDEBERKY|DEWIT</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Becq-Girard, F., Forget, P. and Benoit, M., 1999. Non-linear propagation of</span>
<span class="sd">    unidirectional wave fields over varying topography. Coastal Engineering, 38(2),</span>
<span class="sd">    pp.91-113.</span>

<span class="sd">    Note</span>
<span class="sd">    ----</span>
<span class="sd">    This method to compute the triad interactions is only supported in SWAN &gt;= 41.45.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import TRIAD_SPB</span>
<span class="sd">        triad = TRIAD_SPB()</span>
<span class="sd">        print(triad.render())</span>
<span class="sd">        triad = TRIAD_SPB(</span>
<span class="sd">            trfac=0.9,</span>
<span class="sd">            a=0.95,</span>
<span class="sd">            b=0.0,</span>
<span class="sd">            biphase={&quot;model_type&quot;: &quot;eldeberky&quot;, &quot;urcrit&quot;: 0.63},</span>
<span class="sd">        )</span>
<span class="sd">        print(triad.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;spb&quot;</span><span class="p">,</span> <span class="s2">&quot;SPB&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;spb&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">trfac</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Scaling factor that controls the intensity of &quot;</span>
            <span class="s2">&quot;the triad interaction due to SPB (SWAN default: 0.9)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">a</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;First calibration parameter for tuning K in Eq. (5.1) of &quot;</span>
            <span class="s2">&quot;Becq-Girard et al. (1999). This parameter is associated with broadening &quot;</span>
            <span class="s2">&quot;of the resonance condition. The default value is 0.95 and is calibrated &quot;</span>
            <span class="s2">&quot;by means of laboratory experiments (SWAN default: 0.95)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">b</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Second calibration parameter for tuning K in Eq. (5.1) of &quot;</span>
            <span class="s2">&quot;Becq-Girard et al. (1999). This parameter is associated with broadening &quot;</span>
            <span class="s2">&quot;of the resonance condition. The default value is -0.75 and is calibrated &quot;</span>
            <span class="s2">&quot;by means of laboratory experiments. However, it may not be appropriate &quot;</span>
            <span class="s2">&quot;for true 2D field cases as it does not scale with the wave field &quot;</span>
            <span class="s2">&quot;characteristics. Hence, this parameter is set to zero (SWAN default: 0.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">biphase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ELDEBERKY</span><span class="p">,</span> <span class="n">DEWIT</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Defines the parameterization of biphase (self-self interaction) &quot;</span>
            <span class="s2">&quot;(SWAN default: ELDEBERKY)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="TRIAD_SPB.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TRIAD_SPB.html#rompy.swan.components.physics.TRIAD_SPB.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;TRIAD SPB&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trfac</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; trfac=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">trfac</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; a=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; b=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">biphase</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">biphase</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># VEGETATION</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="VEGETATION">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.VEGETATION.html#rompy.swan.components.physics.VEGETATION">[docs]</a>
<span class="k">class</span> <span class="nc">VEGETATION</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Vegetation dumping.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        VEGETATION [iveg] &lt; [height] [diamtr] [nstems] [drag] &gt;</span>

<span class="sd">    With this command the user can activate wave damping due to vegetation based on the</span>
<span class="sd">    Dalrymple&#39;s formula (1984) as implemented by Suzuki et al. (2011). This damping is</span>
<span class="sd">    uniform over the wave frequencies. An alternative is the frequency-dependent</span>
<span class="sd">    (canopy) dissipation model of Jacobsen et al. (2019). If this command is not used,</span>
<span class="sd">    SWAN will not account for vegetation effects.</span>

<span class="sd">    The vegetation (rigid plants) can be divided over a number of vertical segments and</span>
<span class="sd">    so, the possibility to vary the vegetation vertically is included. Each vertical</span>
<span class="sd">    layer represents some characteristics of the plants. These variables as indicated</span>
<span class="sd">    below can be repeated as many vertical layers to be chosen.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Dalrymple, R.A., Kirby, J.T. and Hwang, P.A., 1984. Wave diffraction due to areas</span>
<span class="sd">    of energy dissipation. Journal of waterway, port, coastal, and ocean engineering,</span>
<span class="sd">    110(1), pp.67-79.</span>

<span class="sd">    Jacobsen, N.G., Bakker, W., Uijttewaal, W.S. and Uittenbogaard, R., 2019.</span>
<span class="sd">    Experimental investigation of the wave-induced motion of and force distribution</span>
<span class="sd">    along a flexible stem. Journal of Fluid Mechanics, 880, pp.1036-1069.</span>

<span class="sd">    Suzuki, T., Zijlema, M., Burger, B., Meijer, M.C. and Narayan, S., 2012. Wave</span>
<span class="sd">    dissipation by vegetation with layer schematization in SWAN. Coastal Engineering,</span>
<span class="sd">    59(1), pp.64-71.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Vertical layering of the vegetation is not yet implemented for the</span>
<span class="sd">    Jacobsen et al. (2019) method.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import VEGETATION</span>
<span class="sd">        # Single layer</span>
<span class="sd">        vegetation = VEGETATION(</span>
<span class="sd">            height=1.2,</span>
<span class="sd">            diamtr=0.1,</span>
<span class="sd">            drag=0.5,</span>
<span class="sd">            nstems=10,</span>
<span class="sd">        )</span>
<span class="sd">        print(vegetation.render())</span>
<span class="sd">        # 2 vertical layers</span>
<span class="sd">        vegetation = VEGETATION(</span>
<span class="sd">            iveg=1,</span>
<span class="sd">            height=[1.2, 0.8],</span>
<span class="sd">            diamtr=[0.1, 0.1],</span>
<span class="sd">            drag=[0.5, 0.5],</span>
<span class="sd">            nstems=[10, 5],</span>
<span class="sd">        )</span>
<span class="sd">        print(vegetation.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;vegetation&quot;</span><span class="p">,</span> <span class="s2">&quot;VEGETATION&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;vegetation&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">iveg</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Indicates the method for the vegetation computation (SWAN default: 1):</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">* 1: Suzuki et al. (2011)</span><span class="se">\n</span><span class="s2">* 2: Jacobsen et al. (2019)</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">height</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The plant height per layer (in m)&quot;</span>
    <span class="p">)</span>
    <span class="n">diamtr</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The diameter of each plant stand per layer (in m)&quot;</span>
    <span class="p">)</span>
    <span class="n">drag</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The drag coefficient per layer&quot;</span>
    <span class="p">)</span>
    <span class="n">nstems</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The number of plant stands per square meter for each layer. Note that &quot;</span>
            <span class="s2">&quot;`nstems` is allowed to vary over the computational region to account for &quot;</span>
            <span class="s2">&quot;the zonation of vegetation. In that case use the commands &quot;</span>
            <span class="s2">&quot;`IMPGRID NPLANTS` and `READINP NPLANTS` to define and read the &quot;</span>
            <span class="s2">&quot;vegetation density. The (vertically varying) value of `nstems` in this &quot;</span>
            <span class="s2">&quot;command will be multiplied by this horizontally varying plant density &quot;</span>
            <span class="s2">&quot;(SWAN default: 1)&quot;</span>
        <span class="p">),</span>
        <span class="n">validate_default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="VEGETATION.number_of_layers">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.VEGETATION.html#rompy.swan.components.physics.VEGETATION.number_of_layers">[docs]</a>
    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="s2">&quot;diamtr&quot;</span><span class="p">,</span> <span class="s2">&quot;drag&quot;</span><span class="p">,</span> <span class="s2">&quot;nstems&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">number_of_layers</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">info</span><span class="p">:</span> <span class="n">ValidationInfo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">v</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">]</span>
        <span class="n">sizes</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">info</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">)}</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">sizes</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The number of layers must be the same for all variables. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Got these number of layers: </span><span class="si">{</span><span class="n">sizes</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span></div>


<div class="viewcode-block" id="VEGETATION.jacomsen_layering_not_implemented">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.VEGETATION.html#rompy.swan.components.physics.VEGETATION.jacomsen_layering_not_implemented">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">jacomsen_layering_not_implemented</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;VEGETATION&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">iveg</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nstems</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="s2">&quot;Vertical layering of the vegetation is not yet implemented for the &quot;</span>
                <span class="s2">&quot;Jacobsen et al. (2019) method, please define single layer&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="VEGETATION.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.VEGETATION.html#rompy.swan.components.physics.VEGETATION.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;VEGETATION iveg=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">iveg</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">h</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">dr</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">diamtr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">drag</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nstems</span><span class="p">):</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; height=</span><span class="si">{</span><span class="n">h</span><span class="si">}</span><span class="s2"> diamtr=</span><span class="si">{</span><span class="n">d</span><span class="si">}</span><span class="s2"> nstems=</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2"> drag=</span><span class="si">{</span><span class="n">dr</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># MUD</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="MUD">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.MUD.html#rompy.swan.components.physics.MUD">[docs]</a>
<span class="k">class</span> <span class="nc">MUD</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mud dumping.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        MUD [layer] [rhom] [viscm]</span>

<span class="sd">    With this command the user can activate wave damping due to mud based on Ng (2000).</span>
<span class="sd">    If this command or the commands INPGRID MUDLAY and READINP MUDLAY are not used,</span>
<span class="sd">    SWAN will not account for muddy bottom effects.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Ng, C., 2000, Water waves over a muddy bed: A two layer Stokes&#39; boundary layer</span>
<span class="sd">    model, Coastal Eng., 40, 221-242.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import MUD</span>
<span class="sd">        mud = MUD()</span>
<span class="sd">        print(mud.render())</span>
<span class="sd">        mud = MUD(</span>
<span class="sd">            layer=2.0,</span>
<span class="sd">            rhom=1300,</span>
<span class="sd">            viscm=0.0076,</span>
<span class="sd">        )</span>
<span class="sd">        print(mud.render())</span>

<span class="sd">    TODO: Validate `layer` must be prescribed if `INPGRID MUDLAY` isn&#39;t used.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;mud&quot;</span><span class="p">,</span> <span class="s2">&quot;MUD&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;mud&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">layer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The thickness of the mud layer (in m). Note that `layer` is allowed to &quot;</span>
            <span class="s2">&quot;vary over the computational region to account for the zonation of muddy &quot;</span>
            <span class="s2">&quot;bottom. In that case use the commands `INPGRID MUDLAY` and `READINP &quot;</span>
            <span class="s2">&quot;MUDLAY` to define and read the layer thickness of mud. The value of &quot;</span>
            <span class="s2">&quot;`layer` in this command is then not required (it will be ignored)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">rhom</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The density of the mud layer (in kg/m3) (SWAN default: 1300)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">viscm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The kinematic viscosity of the mud layer (in m2/s) (SWAN default: 0.0076)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="MUD.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.MUD.html#rompy.swan.components.physics.MUD.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;MUD&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; layer=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">layer</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rhom</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; rhom=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rhom</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">viscm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; viscm=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">viscm</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># SICE</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="SICE">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE.html#rompy.swan.components.physics.SICE">[docs]</a>
<span class="k">class</span> <span class="nc">SICE</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sea ice dissipation.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SICE [aice]</span>

<span class="sd">    Using this command, the user activates a sink term to represent the dissipation of</span>
<span class="sd">    wave energy by sea ice. The default method is R19 empirical/parametric: a</span>
<span class="sd">    polynomial based on wave frequency (Rogers, 2019). This polynomial (in 1/m) has</span>
<span class="sd">    seven dimensional coefficients; see Scientific/Technical documentation for details.</span>
<span class="sd">    If this command is not used, SWAN will not account for sea ice effects.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Doble, M.J., De Carolis, G., Meylan, M.H., Bidlot, J.R. and Wadhams, P., 2015.</span>
<span class="sd">    Relating wave attenuation to pancake ice thickness, using field measurements and</span>
<span class="sd">    model results. Geophysical Research Letters, 42(11), pp.4473-4481.</span>

<span class="sd">    Meylan, M.H., Bennetts, L.G. and Kohout, A.L., 2014. In situ measurements and</span>
<span class="sd">    analysis of ocean waves in the Antarctic marginal ice zone. Geophysical Research</span>
<span class="sd">    Letters, 41(14), pp.5046-5051.</span>

<span class="sd">    Rogers, W.E., Meylan, M.H. and Kohout, A.L., 2018. Frequency distribution of</span>
<span class="sd">    dissipation of energy of ocean waves by sea ice using data from Wave Array 3 of</span>
<span class="sd">    the ONR “Sea State” field experiment. Nav. Res. Lab. Memo. Rep, pp.18-9801.</span>

<span class="sd">    Rogers, W.E., Meylan, M.H. and Kohout, A.L., 2021. Estimates of spectral wave</span>
<span class="sd">    attenuation in Antarctic sea ice, using model/data inversion. Cold Regions Science</span>
<span class="sd">    and Technology, 182, p.103198.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Iis also necessary to describe the ice, using the `ICE` command (for uniform and</span>
<span class="sd">    stationary ice) or `INPGRID`/`READINP` commands (for variable ice).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import SICE</span>
<span class="sd">        sice = SICE()</span>
<span class="sd">        print(sice.render())</span>
<span class="sd">        sice = SICE(aice=0.5)</span>
<span class="sd">        print(sice.render())</span>

<span class="sd">    TODO: Verify if the `aice` parameter should be used with SICE command, it is not</span>
<span class="sd">    shown in the command tree but it is described as an option in the description.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;sice&quot;</span><span class="p">,</span> <span class="s2">&quot;SICE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;sice&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">aice</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Ice concentration as a fraction from 0 to 1. Note that `aice` is allowed &quot;</span>
            <span class="s2">&quot;to vary over the computational region to account for the zonation of ice &quot;</span>
            <span class="s2">&quot;concentration. In that case use the commands `INPGRID AICE` and `READINP &quot;</span>
            <span class="s2">&quot;AICE` to define and read the sea concentration. The value of `aice` in &quot;</span>
            <span class="s2">&quot;this command is then not required (it will be ignored)&quot;</span>
        <span class="p">),</span>
        <span class="n">ge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">le</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SICE.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE.html#rompy.swan.components.physics.SICE.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;SICE&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">aice</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; aice=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">aice</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="SICE_R19">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE_R19.html#rompy.swan.components.physics.SICE_R19">[docs]</a>
<span class="k">class</span> <span class="nc">SICE_R19</span><span class="p">(</span><span class="n">SICE</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sea ice dissipation based on the method of Rogers et al (2019).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SICE [aice] R19 [c0] [c1] [c2] [c3] [c4] [c5] [c6]</span>

<span class="sd">    The default options recover the polynomial of Meylan et al. (2014), calibrated for</span>
<span class="sd">    a case of ice floes, mostly 10 to 25 m in diameter, in the marginal ice zone near</span>
<span class="sd">    Antarctica. Examples for other calibrations can be found in the</span>
<span class="sd">    Scientific/Technical documentation.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Meylan, M.H., Bennetts, L.G. and Kohout, A.L., 2014. In situ measurements and</span>
<span class="sd">    analysis of ocean waves in the Antarctic marginal ice zone. Geophysical Research</span>
<span class="sd">    Letters, 41(14), pp.5046-5051.</span>

<span class="sd">    Rogers, W.E., Meylan, M.H. and Kohout, A.L., 2018. Frequency distribution of</span>
<span class="sd">    dissipation of energy of ocean waves by sea ice using data from Wave Array 3 of</span>
<span class="sd">    the ONR “Sea State” field experiment. Nav. Res. Lab. Memo. Rep, pp.18-9801.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import SICE_R19</span>
<span class="sd">        sice = SICE_R19()</span>
<span class="sd">        print(sice.render())</span>
<span class="sd">        kwargs = dict(</span>
<span class="sd">            aice=0.5,</span>
<span class="sd">            c0=0.0,</span>
<span class="sd">            c1=0.0,</span>
<span class="sd">            c2=1.06e-3,</span>
<span class="sd">            c3=0.0,</span>
<span class="sd">            c4=0.0,</span>
<span class="sd">            c5=0.0,</span>
<span class="sd">            c6=0.0,</span>
<span class="sd">        )</span>
<span class="sd">        sice = SICE_R19(**kwargs)</span>
<span class="sd">        print(sice.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;r19&quot;</span><span class="p">,</span> <span class="s2">&quot;R19&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;r19&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">c0</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Polynomial coefficient (in 1/m) for determining the rate of sea ice &quot;</span>
            <span class="s2">&quot;dissipation (SWAN default: 0.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">c1</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Polynomial coefficient (in s/m) for determining the rate of sea ice &quot;</span>
            <span class="s2">&quot;dissipation (SWAN default: 0.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">c2</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Polynomial coefficient (in s2/m) for determining the rate of sea ice &quot;</span>
            <span class="s2">&quot;dissipation (SWAN default: 1.06E-3)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">c3</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Polynomial coefficient (in s3/m) for determining the rate of sea ice &quot;</span>
            <span class="s2">&quot;dissipation (SWAN default: 0.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">c4</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Polynomial coefficient (in s4/m) for determining the rate of sea ice &quot;</span>
            <span class="s2">&quot;dissipation (SWAN default: 2.3E-2)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">c5</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Polynomial coefficient (in s5/m) for determining the rate of sea ice &quot;</span>
            <span class="s2">&quot;dissipation (SWAN default: 0.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">c6</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Polynomial coefficient (in s6/m) for determining the rate of sea ice &quot;</span>
            <span class="s2">&quot;dissipation (SWAN default: 0.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SICE_R19.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE_R19.html#rompy.swan.components.physics.SICE_R19.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">c0</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; c0=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">c0</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">c1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; c1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">c1</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">c2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; c2=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">c2</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">c3</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; c3=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">c3</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">c4</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; c4=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">c4</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">c5</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; c5=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">c5</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">c6</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; c6=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">c6</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="SICE_D15">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE_D15.html#rompy.swan.components.physics.SICE_D15">[docs]</a>
<span class="k">class</span> <span class="nc">SICE_D15</span><span class="p">(</span><span class="n">SICE</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sea ice dissipation based on the method of Doble et al. (2015).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SICE [aice] D15 [chf]</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Doble, M.J., De Carolis, G., Meylan, M.H., Bidlot, J.R. and Wadhams, P., 2015.</span>
<span class="sd">    Relating wave attenuation to pancake ice thickness, using field measurements and</span>
<span class="sd">    model results. Geophysical Research Letters, 42(11), pp.4473-4481.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import SICE_D15</span>
<span class="sd">        sice = SICE_D15()</span>
<span class="sd">        print(sice.render())</span>
<span class="sd">        sice = SICE_D15(aice=0.2, chf=0.1)</span>
<span class="sd">        print(sice.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;d15&quot;</span><span class="p">,</span> <span class="s2">&quot;D15&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;d15&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">chf</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A simple coefficient of proportionality (SWAN default: 0.1)&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SICE_D15.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE_D15.html#rompy.swan.components.physics.SICE_D15.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; chf=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">chf</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="SICE_M18">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE_M18.html#rompy.swan.components.physics.SICE_M18">[docs]</a>
<span class="k">class</span> <span class="nc">SICE_M18</span><span class="p">(</span><span class="n">SICE</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sea ice dissipation based on the method of Meylan et al. (2018).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SICE [aice] M18 [chf]</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Meylan, M.H., Bennetts, L.G. and Kohout, A.L., 2014. In situ measurements and</span>
<span class="sd">    analysis of ocean waves in the Antarctic marginal ice zone. Geophysical Research</span>
<span class="sd">    Letters, 41(14), pp.5046-5051.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import SICE_M18</span>
<span class="sd">        sice = SICE_M18()</span>
<span class="sd">        print(sice.render())</span>
<span class="sd">        sice = SICE_M18(aice=0.8, chf=0.059)</span>
<span class="sd">        print(sice.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;m18&quot;</span><span class="p">,</span> <span class="s2">&quot;M18&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;m18&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">chf</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A simple coefficient of proportionality (SWAN default: 0.059)&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SICE_M18.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE_M18.html#rompy.swan.components.physics.SICE_M18.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; chf=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">chf</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="SICE_R21B">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE_R21B.html#rompy.swan.components.physics.SICE_R21B">[docs]</a>
<span class="k">class</span> <span class="nc">SICE_R21B</span><span class="p">(</span><span class="n">SICE</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sea ice dissipation based on the method of Rogers et al. (2021).</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SICE [aice] R21B [chf] [npf]</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Rogers, W.E., Meylan, M.H. and Kohout, A.L., 2021. Estimates of spectral wave</span>
<span class="sd">    attenuation in Antarctic sea ice, using model/data inversion. Cold Regions Science</span>
<span class="sd">    and Technology, 182, p.103198.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import SICE_R21B</span>
<span class="sd">        sice = SICE_R21B()</span>
<span class="sd">        print(sice.render())</span>
<span class="sd">        sice = SICE_R21B(aice=0.8, chf=2.9, npf=4.5)</span>
<span class="sd">        print(sice.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;r21b&quot;</span><span class="p">,</span> <span class="s2">&quot;R21B&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;r21b&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">chf</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A simple coefficient of proportionality (SWAN default: 2.9)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">npf</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Controls the degree of dependence on frequency and ice thickness &quot;</span>
            <span class="s2">&quot;(SWAN default: 4.5)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SICE_R21B.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SICE_R21B.html#rompy.swan.components.physics.SICE_R21B.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; chf=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">chf</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">npf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; npf=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">npf</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># TURBULENCE</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="TURBULENCE">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TURBULENCE.html#rompy.swan.components.physics.TURBULENCE">[docs]</a>
<span class="k">class</span> <span class="nc">TURBULENCE</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Turbulent viscosity.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        TURBULENCE [ctb] (CURRENT [tbcur])</span>

<span class="sd">    With this optional command the user can activate turbulent viscosity. This physical</span>
<span class="sd">    effect is also activated by reading values of the turbulent viscosity using the</span>
<span class="sd">    `READGRID TURB` command, but then with the default value of `ctb`. The command</span>
<span class="sd">    `READGRID TURB` is necessary if this command `TURB` is used since the value of the</span>
<span class="sd">    viscosity is assumed to vary over space.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import TURBULENCE</span>
<span class="sd">        turbulence = TURBULENCE(current=False)</span>
<span class="sd">        print(turbulence.render())</span>
<span class="sd">        turbulence = TURBULENCE(ctb=0.01, current=True, tbcur=0.004)</span>
<span class="sd">        print(turbulence.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;turbulence&quot;</span><span class="p">,</span> <span class="s2">&quot;TURBULENCE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;turbulence&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">ctb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The value of the proportionality coefficient appearing in the energy &quot;</span>
            <span class="s2">&quot;dissipation term (SWAN default: 0.01)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">current</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;If this keyword is present the turbulent viscosity will be derived from &quot;</span>
            <span class="s2">&quot;the product of the depth and the absolute value of the current velocity. &quot;</span>
            <span class="s2">&quot;If the command `READGRID TURB` is used, this option is ignored; &quot;</span>
            <span class="s2">&quot;the values read from file will prevail&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">tbcur</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The factor by which depth x current velocity is multiplied in order to &quot;</span>
            <span class="s2">&quot;get the turbulent viscosity (SWAN default: 0.004)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="TURBULENCE.tbcur_only_with_current">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TURBULENCE.html#rompy.swan.components.physics.TURBULENCE.tbcur_only_with_current">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">tbcur_only_with_current</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TURBULENCE&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">==</span> <span class="kc">False</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tbcur</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;`tbcur` can only be defined if `current` is True&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="TURBULENCE.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.TURBULENCE.html#rompy.swan.components.physics.TURBULENCE.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;TURBULENCE&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctb</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; ctb=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ctb</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="s2">&quot; CURRENT&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tbcur</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; tbcur=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tbcur</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># BRAGG</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="BRAGG">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BRAGG.html#rompy.swan.components.physics.BRAGG">[docs]</a>
<span class="k">class</span> <span class="nc">BRAGG</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bragg scattering.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        BRAGG [ibrag] [nreg] [cutoff]</span>

<span class="sd">    Using this optional command, the user activates a source term to represent the</span>
<span class="sd">    scattering of waves due to changes in the small-scale bathymetry based on the</span>
<span class="sd">    theory of Ardhuin and Herbers (2002). If this command is not used, SWAN will not</span>
<span class="sd">    account for Bragg scattering.</span>

<span class="sd">    The underlying process is related to the bed elevation spectrum that describes the</span>
<span class="sd">    random variability of the bathymetry at the scale of the wave length on top of a</span>
<span class="sd">    slowly varying depth. To input this spectrum in the model, two options are</span>
<span class="sd">    available. One option is to read a spectrum from a file. This single bottom</span>
<span class="sd">    spectrum will subsequently be applied in all active grid points. The assumption</span>
<span class="sd">    being made here is that the inputted bottom is gently sloping. Note that the bottom</span>
<span class="sd">    spectrum must be given as a function of the wave number `k`.</span>

<span class="sd">    Another option is to compute the spectrum by a Fourier transform from `x` to `k` of</span>
<span class="sd">    the bed modulations around a computational grid point. First, one must define a</span>
<span class="sd">    square region with a fixed size around the grid point in order to perform the</span>
<span class="sd">    Fourier transform. The size should correspond to a multiple of the wave length at</span>
<span class="sd">    which refraction is resolved (i.e. consistent with the mild slope assumption).</span>
<span class="sd">    Next, the amplitude modulation of the small-scale bathymetry is obtained by</span>
<span class="sd">    substracting a slowly varying bed level from the inputted high-resolution</span>
<span class="sd">    bathymetric data within this square region. Here, the smooth bed level is achieved</span>
<span class="sd">    using a bilinear fit. During the computation, however, SWAN employs the gently</span>
<span class="sd">    sloping bed as the mean of the original bathymetry within the given square around</span>
<span class="sd">    each computational grid point. Finally, the corresponding bottom spectrum is</span>
<span class="sd">    computed with an FFT.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    The Bragg scattering source term to the action balance equation gives rise to a</span>
<span class="sd">    fairly stiff equation. The best remedy is to run SWAN in the nonstationary mode</span>
<span class="sd">    with a relatively small time step or in the stationary mode with some under</span>
<span class="sd">    relaxation (see command `NUM STAT [alfa]`).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import BRAGG</span>
<span class="sd">        bragg = BRAGG(nreg=200)</span>
<span class="sd">        print(bragg.render())</span>
<span class="sd">        bragg = BRAGG(ibrag=1, nreg=200, cutoff=5.0)</span>
<span class="sd">        print(bragg.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;bragg&quot;</span><span class="p">,</span> <span class="s2">&quot;BRAGG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;bragg&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">ibrag</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Indicates the computation of Bragg scattering term:</span><span class="se">\n\n</span><span class="s2">* 1: source term &quot;</span>
            <span class="s2">&quot;is calculated per sweep and bottom spectrum is interpolated at the &quot;</span>
            <span class="s2">&quot;difference wave number a priori (thus requiring storage)</span><span class="se">\n</span><span class="s2">* 2: source &quot;</span>
            <span class="s2">&quot;term is calculated per sweep and bottom spectrum is interpolated at the &quot;</span>
            <span class="s2">&quot;difference wave number per sweep (no storage)</span><span class="se">\n</span><span class="s2">* 3: source term is &quot;</span>
            <span class="s2">&quot;calculated per iteration and bottom spectrum is interpolated at the &quot;</span>
            <span class="s2">&quot;difference wave number per iteration (no storage)</span><span class="se">\n\n</span><span class="s2">(SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">nreg</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Size of square region around computational grid point (centered) for &quot;</span>
            <span class="s2">&quot;computing the mean depth and, if desired, the bed elevation spectrum. It &quot;</span>
            <span class="s2">&quot;is expressed in terms of the number of grid points (per direction) &quot;</span>
            <span class="s2">&quot;of the inputted bottom grid&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">cutoff</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Cutoff to the ratio between surface and bottom wave numbers. Note: see&quot;</span>
            <span class="s2">&quot;the Scientific/Technical documentation for details (SWAN default: 5.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="BRAGG.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BRAGG.html#rompy.swan.components.physics.BRAGG.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;BRAGG&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ibrag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; ibrag=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ibrag</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nreg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; nreg=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nreg</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cutoff</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cutoff=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cutoff</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="BRAGG_FT">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BRAGG_FT.html#rompy.swan.components.physics.BRAGG_FT">[docs]</a>
<span class="k">class</span> <span class="nc">BRAGG_FT</span><span class="p">(</span><span class="n">BRAGG</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bragg scattering with bottom spectrum computed from FFT.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        BRAGG [ibrag] [nreg] [cutoff] FT</span>

<span class="sd">    If this keyword is present the bottom spectrum will be computed in each active</span>
<span class="sd">    grid point using a Fast Fourier Transform (FFT).</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    The depth in each computational grid point is computed as the average of the</span>
<span class="sd">    inputted (high-resolution) bed levels within the square region.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import BRAGG_FT</span>
<span class="sd">        bragg = BRAGG_FT(nreg=350)</span>
<span class="sd">        print(bragg.render())</span>
<span class="sd">        bragg = BRAGG_FT(ibrag=2, nreg=350, cutoff=5.0)</span>
<span class="sd">        print(bragg.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ft&quot;</span><span class="p">,</span> <span class="s2">&quot;FT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;ft&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>

<div class="viewcode-block" id="BRAGG_FT.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BRAGG_FT.html#rompy.swan.components.physics.BRAGG_FT.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> FT&quot;</span></div>
</div>



<div class="viewcode-block" id="BRAGG_FILE">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BRAGG_FILE.html#rompy.swan.components.physics.BRAGG_FILE">[docs]</a>
<span class="k">class</span> <span class="nc">BRAGG_FILE</span><span class="p">(</span><span class="n">BRAGG</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bragg scattering with bottom spectrum from file.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        BRAGG [ibrag] [nreg] [cutoff] FILE &#39;fname&#39; [idla] [mkx] [mky] [dkx] [dky]</span>

<span class="sd">    The bed elevation spectrum `FB(kx, ky)` is read from a file.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    This spectrum is taken to be uniform over the entire computational domain.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import BRAGG_FILE</span>
<span class="sd">        bragg = BRAGG_FILE(fname=&quot;bottom_spectrum.txt&quot;, nreg=500, mkx=99, dkx=0.1)</span>
<span class="sd">        print(bragg.render())</span>
<span class="sd">        kwargs = dict(</span>
<span class="sd">            ibrag=3,</span>
<span class="sd">            nreg=500,</span>
<span class="sd">            cutoff=5.0,</span>
<span class="sd">            fname=&quot;bottom_spectrum.txt&quot;,</span>
<span class="sd">            mkx=99,</span>
<span class="sd">            mky=149,</span>
<span class="sd">            dkx=0.1,</span>
<span class="sd">            dky=0.1,</span>
<span class="sd">        )</span>
<span class="sd">        bragg = BRAGG_FILE(**kwargs)</span>
<span class="sd">        print(bragg.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="s2">&quot;FILE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">fname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of file containing the bottom spectrum&quot;</span><span class="p">,</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">36</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">idla</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IDLA</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Order in which the values should be given in the input files&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">mkx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Number of cells in x-direction of the wave number grid related to bottom &quot;</span>
            <span class="s2">&quot;spectrum (this is one less than the number of points in this direction)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">mky</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Number of cells in y-direction of the wave number grid related to bottom &quot;</span>
            <span class="s2">&quot;spectrum (this is one less than the number of points in this direction)&quot;</span>
            <span class="s2">&quot;(SWAN default: `mky = mkx`)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">dkx</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Mesh size in x-direction of the wave number grid related to bottom &quot;</span>
            <span class="s2">&quot;spectrum (1/m)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">dky</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Mesh size in y-direction of the wave number grid related to bottom &quot;</span>
            <span class="s2">&quot;spectrum (1/m) (SWAN default: `dky = dkx`)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="BRAGG_FILE.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.BRAGG_FILE.html#rompy.swan.components.physics.BRAGG_FILE.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">cmd</span><span class="p">()</span><span class="si">}</span><span class="s2"> FILE fname=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idla</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; idla=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">idla</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; mkx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mkx</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mky</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; mky=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mky</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; dkx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dkx</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dky</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; dky=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dky</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># LIMITER</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="LIMITER">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.LIMITER.html#rompy.swan.components.physics.LIMITER">[docs]</a>
<span class="k">class</span> <span class="nc">LIMITER</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Physics limiter.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        LIMITER [ursell] [qb]</span>

<span class="sd">    With this command the user can de-activate permanently the quadruplets when</span>
<span class="sd">    the actual Ursell number exceeds `ursell`. Moreover, as soon as the actual</span>
<span class="sd">    fraction of breaking waves exceeds `qb` then the action limiter will not be</span>
<span class="sd">    used in case of decreasing action density.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import LIMITER</span>
<span class="sd">        limiter = LIMITER()</span>
<span class="sd">        print(limiter.render())</span>
<span class="sd">        limiter = LIMITER(ursell=10.0, qb=1.0)</span>
<span class="sd">        print(limiter.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;limiter&quot;</span><span class="p">,</span> <span class="s2">&quot;LIMITER&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;limiter&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">ursell</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;The upper threshold for Ursell number (SWAN default: 10.0)&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">qb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The threshold for fraction of breaking waves (SWAN default: 1.0)&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="LIMITER.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.LIMITER.html#rompy.swan.components.physics.LIMITER.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;LIMITER&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ursell</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; ursell=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ursell</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">qb</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; qb=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">qb</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># OBSTACLE</span>
<span class="c1"># =====================================================================================</span>
<span class="n">TRANSMISSION_TYPE</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span>
    <span class="n">Union</span><span class="p">[</span><span class="n">TRANSM</span><span class="p">,</span> <span class="n">TRANS1D</span><span class="p">,</span> <span class="n">TRANS2D</span><span class="p">,</span> <span class="n">GODA</span><span class="p">,</span> <span class="n">DANGREMOND</span><span class="p">],</span>
    <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Wave transmission&quot;</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">REFLECTION_TYPE</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span>
    <span class="n">Union</span><span class="p">[</span><span class="n">RSPEC</span><span class="p">,</span> <span class="n">RDIFF</span><span class="p">],</span>
    <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Wave reflection type&quot;</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">),</span>
<span class="p">]</span>


<div class="viewcode-block" id="OBSTACLE">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OBSTACLE.html#rompy.swan.components.physics.OBSTACLE">[docs]</a>
<span class="k">class</span> <span class="nc">OBSTACLE</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Subgrid obstacle.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        OBSTACLE -&gt;TRANSM|TRANS1D|TRANS2D|GODA|DANGREMOND REFL [reflc] -&gt;RSPEC|RDIFF &amp;</span>
<span class="sd">            (FREEBOARD [hgt] [gammat] [gammar] QUAY) LINE &lt; [xp] [yp] &gt;</span>

<span class="sd">    With this optional command the user provides the characteristics of a (line</span>
<span class="sd">    of) sub-grid obstacle(s) through which waves are transmitted or against which</span>
<span class="sd">    waves are reflected (possibly both at the same time). The obstacle is sub-grid</span>
<span class="sd">    in the sense that it is narrow compared to the spatial meshes; its length should</span>
<span class="sd">    be at least one mesh length.</span>

<span class="sd">    The location of the obstacle is defined by a sequence of corner points of a line.</span>
<span class="sd">    The obstacles interrupt the propagation of the waves from one grid point to the</span>
<span class="sd">    next wherever this obstacle line is located between two neighbouring grid points</span>
<span class="sd">    (of the computational grid; the resolution of the obstacle is therefore equal to</span>
<span class="sd">    the computational grid spacing). This implies that an obstacle to be effective must</span>
<span class="sd">    be located such that it crosses at least one grid line. This is always the case</span>
<span class="sd">    when an obstacle is larger than one mesh length.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>

<span class="sd">    * The advise is to define obstacles with the least amount of points possible.</span>
<span class="sd">    * SWAN checks if the criterion `reflc^2 + trcoef^2 LE 1` is fulfilled.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import OBSTACLE</span>
<span class="sd">        obs = OBSTACLE(</span>
<span class="sd">            transmission=dict(model_type=&quot;transm&quot;, trcoef=0.5),</span>
<span class="sd">            reflection=dict(reflc=0.5),</span>
<span class="sd">            line=dict(xp=[174.1, 174.2, 174.3], yp=[-39.1, -39.1, -39.1]),</span>
<span class="sd">        )</span>
<span class="sd">        print(obs.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;obstacle&quot;</span><span class="p">,</span> <span class="s2">&quot;OBSTACLE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;obstacle&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">transmission</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TRANSMISSION_TYPE</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">reflection</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">REFL</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Wave reflection&quot;</span><span class="p">)</span>
    <span class="n">reflection_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">REFLECTION_TYPE</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">freeboard</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FREEBOARD</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Freeboard&quot;</span><span class="p">)</span>
    <span class="n">line</span><span class="p">:</span> <span class="n">LINE</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Line of obstacle&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="OBSTACLE.hgt_consistent">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OBSTACLE.html#rompy.swan.components.physics.OBSTACLE.hgt_consistent">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">hgt_consistent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OBSTACLE&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Warns if `hgt` has different values in DAM and FREEBOARD specifications.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">transmission</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">freeboard</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">is_dam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transmission</span><span class="o">.</span><span class="n">model_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;GODA&quot;</span><span class="p">,</span> <span class="s2">&quot;DANGREMOND&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">is_dam</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">freeboard</span><span class="o">.</span><span class="n">hgt</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transmission</span><span class="o">.</span><span class="n">hgt</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;hgt in FREEBOARD and DAM specifications are not equal&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="OBSTACLE.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OBSTACLE.html#rompy.swan.components.physics.OBSTACLE.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;OBSTACLE&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">transmission</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">transmission</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reflection</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">reflection</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reflection_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">reflection_type</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">freeboard</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">freeboard</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<div class="viewcode-block" id="OBSTACLE_FIG">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OBSTACLE_FIG.html#rompy.swan.components.physics.OBSTACLE_FIG">[docs]</a>
<span class="k">class</span> <span class="nc">OBSTACLE_FIG</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Obstacle for free infragravity radiation.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        OBSTACLE FIG [alpha1] [hss] [tss] (REFL [reflc]) LINE &lt;[xp] [yp]&gt;</span>

<span class="sd">    With this optional command the user specifies the obstacles along which the</span>
<span class="sd">    free infra-gravity (FIG) energy is radiated. By placing the obstacles close to</span>
<span class="sd">    the shorelines SWAN will include the FIG source term along the coastlines</span>
<span class="sd">    according to the parametrization of Ardhuin et al. (2014).</span>

<span class="sd">    The location of the obstacle is defined by a sequence of corner points of a line.</span>
<span class="sd">    For an obstacle line to be effective its length is at least one mesh size large. It</span>
<span class="sd">    is recommended to place the obstacles at the inner area of the computational grid,</span>
<span class="sd">    not at or through the boundaries. In particular, each obstacle line must be</span>
<span class="sd">    bordered by wet points on both sides.</span>

<span class="sd">    In addition, the orientation of the obstacle line determines from which side of the</span>
<span class="sd">    obstacle the FIG wave energy is radiated away. If the begin point of the line is</span>
<span class="sd">    below or left of the end point, that is, pointing upwards/to the right, then FIG</span>
<span class="sd">    energy is radiated from the west/north side of the line. If the begin point is</span>
<span class="sd">    above or right of the end point (pointing downwards/to the left), then FIG energy</span>
<span class="sd">    is radiated away from the east/south side of the obstacle line.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Ardhuin, F., Rawat, A. and Aucan, J., 2014. A numerical model for free</span>
<span class="sd">    infragravity waves: Definition and validation at regional and global scales.</span>
<span class="sd">    Ocean Modelling, 77, pp.20-32.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Either `hss` or `tss` or both are allowed to vary over the computational domain.</span>
<span class="sd">    In that case use the commands `INPGRID HSS` and `READINP HSS` and/or the commands</span>
<span class="sd">    `INPGRID TSS` and `READINP TSS` to define and read the sea-swell wave height/period</span>
<span class="sd">    It is permissible to have constant sea-swell height and non-constant sea-swell</span>
<span class="sd">    period, or vice versa. The command `OBST FIG` is still required to define the</span>
<span class="sd">    obstacles. The values of `hss` and/or `tss` in this command are then not required</span>
<span class="sd">    (they will be ignored).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import OBSTACLE_FIG</span>
<span class="sd">        obs = OBSTACLE_FIG(</span>
<span class="sd">            alpha1=5e-4,</span>
<span class="sd">            hss=2.5,</span>
<span class="sd">            tss=10.3,</span>
<span class="sd">            line=dict(xp=[174.1, 174.2, 174.3], yp=[-39.1, -39.1, -39.1]),</span>
<span class="sd">        )</span>
<span class="sd">        print(obs.render())</span>
<span class="sd">        obs = OBSTACLE_FIG(</span>
<span class="sd">            alpha1=5e-4,</span>
<span class="sd">            hss=2.5,</span>
<span class="sd">            tss=10.3,</span>
<span class="sd">            reflection=dict(reflc=0.5),</span>
<span class="sd">            line=dict(xp=[174.1, 174.2, 174.3], yp=[-39.1, -39.1, -39.1]),</span>
<span class="sd">        )</span>
<span class="sd">        print(obs.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;fig&quot;</span><span class="p">,</span> <span class="s2">&quot;FIG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;fig&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">alpha1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Calibration parameter (in 1/s) for determining the rate of radiating FIG &quot;</span>
            <span class="s2">&quot;energy from the shorelines, values in Table 1 of Ardhuin et al. (2014) &quot;</span>
            <span class="s2">&quot;are between 4e-4 and 8.1e-4&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">hss</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The sea-swell significant wave height (in m)&quot;</span><span class="p">,</span>
        <span class="n">ge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">tss</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The sea-swell mean wave period (in s)&quot;</span><span class="p">,</span>
        <span class="n">ge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">reflection</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">REFL</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Wave reflection&quot;</span><span class="p">)</span>
    <span class="n">line</span><span class="p">:</span> <span class="n">LINE</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Line of obstacle&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="OBSTACLE_FIG.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OBSTACLE_FIG.html#rompy.swan.components.physics.OBSTACLE_FIG.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;OBSTACLE FIG alpha1=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">alpha1</span><span class="si">}</span><span class="s2"> hss=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">hss</span><span class="si">}</span><span class="s2"> tss=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tss</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reflection</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">reflection</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="n">OBSTACLES_TYPES</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span>
    <span class="n">Union</span><span class="p">[</span><span class="n">OBSTACLE</span><span class="p">,</span> <span class="n">OBSTACLE_FIG</span><span class="p">],</span>
    <span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">),</span>
<span class="p">]</span>

<span class="n">OBSTACLES_TYPE</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span>
    <span class="nb">list</span><span class="p">[</span><span class="n">OBSTACLES_TYPES</span><span class="p">],</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Obstacle component&quot;</span><span class="p">)</span>
<span class="p">]</span>


<div class="viewcode-block" id="OBSTACLES">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OBSTACLES.html#rompy.swan.components.physics.OBSTACLES">[docs]</a>
<span class="k">class</span> <span class="nc">OBSTACLES</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List of swan obstacles.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        OBSTACLE ... LINE &lt; [xp] [yp] &gt;</span>
<span class="sd">        OBSTACLE ... LINE &lt; [xp] [yp] &gt;</span>
<span class="sd">        .</span>

<span class="sd">    This group component is a convenience to allow defining and rendering</span>
<span class="sd">    a list of obstacle components.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import OBSTACLES, OBSTACLE, OBSTACLE_FIG</span>
<span class="sd">        obst1 = dict(</span>
<span class="sd">            model_type=&quot;obstacle&quot;,</span>
<span class="sd">            reflection=dict(reflc=1.0),</span>
<span class="sd">            line=dict(xp=[174.1, 174.2, 174.3], yp=[-39.1, -39.1, -39.1]),</span>
<span class="sd">        )</span>
<span class="sd">        obst2 = OBSTACLE(</span>
<span class="sd">            transmission=dict(model_type=&quot;transm&quot;),</span>
<span class="sd">            line=dict(xp=[174.3, 174.3], yp=[-39.1, -39.2]),</span>
<span class="sd">        )</span>
<span class="sd">        obst3 = OBSTACLE_FIG(</span>
<span class="sd">            alpha1=5e-4,</span>
<span class="sd">            hss=2.5,</span>
<span class="sd">            tss=10.3,</span>
<span class="sd">            line=dict(xp=[174.1, 174.2, 174.3], yp=[-39.1, -39.1, -39.1]),</span>
<span class="sd">        )</span>
<span class="sd">        obstacles = OBSTACLES(obstacles=[obst1, obst2, obst3])</span>
<span class="sd">        for obst in obstacles.render():</span>
<span class="sd">            print(obst)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;obstacles&quot;</span><span class="p">,</span> <span class="s2">&quot;OBSTACLES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;obstacles&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">obstacles</span><span class="p">:</span> <span class="n">OBSTACLES_TYPE</span>

<div class="viewcode-block" id="OBSTACLES.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OBSTACLES.html#rompy.swan.components.physics.OBSTACLES.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file strings for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">obstacle</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">obstacles</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="p">[</span><span class="n">obstacle</span><span class="o">.</span><span class="n">cmd</span><span class="p">()]</span>
        <span class="k">return</span> <span class="nb">repr</span></div>


<div class="viewcode-block" id="OBSTACLES.render">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OBSTACLES.html#rompy.swan.components.physics.OBSTACLES.render">[docs]</a>
    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Override base class to allow rendering list of components.&quot;&quot;&quot;</span>
        <span class="n">cmds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="p">():</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">cmds</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># SETUP</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="SETUP">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SETUP.html#rompy.swan.components.physics.SETUP">[docs]</a>
<span class="k">class</span> <span class="nc">SETUP</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wave setup.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SETUP [supcor]</span>

<span class="sd">    If this command is given, the wave-induced set-up is computed and accounted for in</span>
<span class="sd">    the wave computations (during the computation it is added to the depth that is</span>
<span class="sd">    obtained from the `READ BOTTOM` and `READ WLEVEL` commands). This approximation in</span>
<span class="sd">    SWAN can only be applied to open coast (unlimited supply of water from outside the</span>
<span class="sd">    domain, e.g. nearshore coasts) in contrast to closed basin, e.g. lakes and</span>
<span class="sd">    estuaries, where this option should not be used. Note that set-up is not computed</span>
<span class="sd">    correctly with spherical coordinates.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>

<span class="sd">    * The SETUP command cannot be used in case of unstructured grids.</span>
<span class="sd">    * Set-up is not supported in case of parallel runs using either MPI or OpenMP.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import SETUP</span>
<span class="sd">        setup = SETUP()</span>
<span class="sd">        print(setup.render())</span>
<span class="sd">        setup = SETUP(supcor=0.5)</span>
<span class="sd">        print(setup.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;setup&quot;</span><span class="p">,</span> <span class="s2">&quot;SETUP&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;setup&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">supcor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;By default the wave-induced set-up is computed with a constant added &quot;</span>
            <span class="s2">&quot;such that the set-up is zero in the deepest point in the computational &quot;</span>
            <span class="s2">&quot;grid. The user can modify this constant by the value of `supcor`. The &quot;</span>
            <span class="s2">&quot;user can thus impose a set-up in any one point (and only one) in the &quot;</span>
            <span class="s2">&quot;computational grid by first running SWAN, then reading the set-up in &quot;</span>
            <span class="s2">&quot;that point and adding or subtracting the required value of `supcor` &quot;</span>
            <span class="s2">&quot;(in m; positive if the set-up has to rise) (SWAN default: 0.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SETUP.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SETUP.html#rompy.swan.components.physics.SETUP.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;SETUP&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">supcor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; supcor=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">supcor</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># DIFFRACTION</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="DIFFRACTION">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.DIFFRACTION.html#rompy.swan.components.physics.DIFFRACTION">[docs]</a>
<span class="k">class</span> <span class="nc">DIFFRACTION</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wave diffraction.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        DIFFRACTION [idiffr] [smpar] [smnum] [cgmod]</span>

<span class="sd">    If this optional command is given, the diffraction is included in the wave</span>
<span class="sd">    computation. But the diffraction approximation in SWAN does not properly handle</span>
<span class="sd">    diffraction in harbours or in front of reflecting obstacles (see</span>
<span class="sd">    Scientific/Technical documentation). Behind breakwaters with a down-wave beach, the</span>
<span class="sd">    SWAN results seem reasonable. The spatial resolution near (the tip of) the</span>
<span class="sd">    diffraction obstacle should be 1/5 to 1/10 of the dominant wave length.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Without extra measures, the diffraction computations with SWAN often converge</span>
<span class="sd">    poorly or not at all. Two measures can be taken:</span>

<span class="sd">    1. (RECOMMENDED) The user can request under-relaxation. See command `NUMERIC`</span>
<span class="sd">    parameter `alpha` and Scientific/Technical documentation (Eq. (3.31)). Very limited</span>
<span class="sd">    experience suggests `alpha = 0.01`.</span>

<span class="sd">    2. Alternatively, the user can request smoothing of the wave field for the</span>
<span class="sd">    computation of the diffraction parameter (the wave field remains intact for all</span>
<span class="sd">    other computations and output). This is done with a repeated convolution filtering.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>

<span class="sd">        from rompy.swan.components.physics import DIFFRACTION</span>
<span class="sd">        diffraction = DIFFRACTION()</span>
<span class="sd">        print(diffraction.render())</span>
<span class="sd">        diffraction = DIFFRACTION(idiffr=True, smpar=0.0, smnum=1.0)</span>
<span class="sd">        print(diffraction.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;diffraction&quot;</span><span class="p">,</span> <span class="s2">&quot;DIFFRACTION&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;diffraction&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">idiffr</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Indicates the use of diffraction. If `idiffr=0` then no diffraction is &quot;</span>
            <span class="s2">&quot;taken into account (SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">smpar</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Smoothing parameter for the calculation of ∇ · √Etot. During every &quot;</span>
            <span class="s2">&quot;smoothing step all grid points exchange `smpar` times the energy with &quot;</span>
            <span class="s2">&quot;their neighbours. Note that `smpar` is parameter a in the above text &quot;</span>
            <span class="s2">&quot;(SWAN default: 0.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">smnum</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Number of smoothing steps relative to `smpar` (SWAN default: 0)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">cgmod</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Adaption of propagation velocities in geographic space due to &quot;</span>
            <span class="s2">&quot;diffraction. If `cgmod=0` then no adaption (SWAN default: 1.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="DIFFRACTION.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.DIFFRACTION.html#rompy.swan.components.physics.DIFFRACTION.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;DIFFRACTION&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">idiffr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; idiffr=</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idiffr</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">smpar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; smpar=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">smpar</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">smnum</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; smnum=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">smnum</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cgmod</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; cgmod=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cgmod</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># SURFBEAT</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="SURFBEAT">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SURFBEAT.html#rompy.swan.components.physics.SURFBEAT">[docs]</a>
<span class="k">class</span> <span class="nc">SURFBEAT</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Surfbeat.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SURFBEAT [df] [nmax] [emin] UNIFORM/LOGARITHMIC</span>

<span class="sd">    Using this optional command, the user activates the Infragravity Energy Module</span>
<span class="sd">    (IEM) of Reniers and Zijlema (2022). Besides the energy balance equation for a</span>
<span class="sd">    sea-swell wave field, another energy balance is included to account for the</span>
<span class="sd">    transfer of sea-swell energy to the bound infragravity (BIG) wave. This</span>
<span class="sd">    infragravity energy balance also involves a nonlinear transfer, expressed by the</span>
<span class="sd">    biphase, through the phase coupling between the radiation stress forcing and the</span>
<span class="sd">    BIG wave. For the prediction of the biphase for obliquely incident waves, an</span>
<span class="sd">    evolution equation is provided under the assumption that the bottom slopes are mild</span>
<span class="sd">    and alongshore uniform.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Reniers, A. and Zijlema, M., 2022. Swan surfbeat-1d. Coastal Engineering, 172,</span>
<span class="sd">    p.104068.</span>

<span class="sd">    Examples:</span>
<span class="sd">    ---------</span>

<span class="sd">    .. ipython:: python</span>

<span class="sd">        from rompy.swan.components.physics import SURFBEAT</span>
<span class="sd">        surfbeat = SURFBEAT()</span>
<span class="sd">        print(surfbeat.render())</span>
<span class="sd">        surfbeat = SURFBEAT(df=0.01, nmax=50000, emin=0.05, spacing=&quot;logarithmic&quot;)</span>
<span class="sd">        print(surfbeat.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;surfbeat&quot;</span><span class="p">,</span> <span class="s2">&quot;SURFBEAT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;surfbeat&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The constant size of BIG frequency bin (in Hz) (SWAN default: 0.01)&quot;</span>
        <span class="p">),</span>
        <span class="n">ge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">nmax</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The maximum number of short-wave pairs for creating bichromatic wave &quot;</span>
            <span class="s2">&quot;groups (SWAN default: 50000)&quot;</span>
        <span class="p">),</span>
        <span class="n">ge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">emin</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The energy threshold in fraction of energy spectrum peak. With this &quot;</span>
            <span class="s2">&quot;threshold one takes into account those short wave components to create &quot;</span>
            <span class="s2">&quot;bichromatic wave groups while their energy levels are larger than &quot;</span>
            <span class="s2">&quot;`emin x E_max` with `E_max` the peak of the spectrum (SWAN default: 0.05)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">spacing</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;uniform&quot;</span><span class="p">,</span> <span class="s2">&quot;logarithmic&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Define if frequencies for reflected ig waves are uniformly or &quot;</span>
            <span class="s2">&quot;logarithmically distributed&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SURFBEAT.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SURFBEAT.html#rompy.swan.components.physics.SURFBEAT.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;SURFBEAT&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; df=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nmax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; nmax=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nmax</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">emin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; emin=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">emin</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">spacing</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">spacing</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># SCAT</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="SCAT">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SCAT.html#rompy.swan.components.physics.SCAT">[docs]</a>
<span class="k">class</span> <span class="nc">SCAT</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Scattering.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        SCAT [iqcm] (GRID [rfac]) (TRUNC [alpha] [qmax])</span>

<span class="sd">    Using this optional command, the user activates a source term that allows for the</span>
<span class="sd">    generation and propagation of cross correlations between scattered waves due to</span>
<span class="sd">    variations in the bathymetry and mean currents. Such variations are rapid compared</span>
<span class="sd">    to the distancebetween the crossing waves (at the scale of 100-1000 m) and is</span>
<span class="sd">    particularly relevant for cases involving narrowband waves (swells) in coastal</span>
<span class="sd">    regions with shallow water and ambient currents. In turn, the immediate spatial</span>
<span class="sd">    effects of coherent scattering, interference, refraction and diffraction can cause</span>
<span class="sd">    large-scale changes in the wave parameters.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Smit, P.B. and Janssen, T.T., 2013. The evolution of inhomogeneous wave statistics</span>
<span class="sd">    through a variable medium. Journal of Physical Oceanography, 43(8), pp.1741-1758.</span>

<span class="sd">    Smit, P.B., Janssen, T.T. and Herbers, T.H.C., 2015. Stochastic modeling of</span>
<span class="sd">    inhomogeneous ocean waves. Ocean Modelling, 96, pp.26-35.</span>

<span class="sd">    Smit, P.B., Janssen, T.T. and Herbers, T.H.C., 2015. Stochastic modeling of</span>
<span class="sd">    coherent wave fields over variable depth. Journal of Physical Oceanography, 45(4),</span>
<span class="sd">    pp.1139-1154.</span>

<span class="sd">    Akrish, G., Smit, P., Zijlema, M. and Reniers, A., 2020. Modelling statistical wave</span>
<span class="sd">    interferences over shear currents. Journal of Fluid Mechanics, 891, p.A2.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Implemented in SWAN 41.41.</span>

<span class="sd">    If both `alpha` and `qmax` options are provided to truncate the infinite</span>
<span class="sd">    convolution sum their mimimum is considered as the final limit on the sum.</span>

<span class="sd">    Examples:</span>
<span class="sd">    ---------</span>

<span class="sd">    .. ipython:: python</span>

<span class="sd">        from rompy.swan.components.physics import SCAT</span>
<span class="sd">        scat = SCAT()</span>
<span class="sd">        print(scat.render())</span>
<span class="sd">        scat = SCAT(iqcm=2, rfac=1.0, alpha=1.0)</span>
<span class="sd">        print(scat.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;scat&quot;</span><span class="p">,</span> <span class="s2">&quot;SCAT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;scat&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">iqcm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;Indicates the modelling and computation of QC scattering:</span><span class="se">\n\n</span><span class="s2">* 0: no &quot;</span>
            <span class="s2">&quot;scattering</span><span class="se">\n</span><span class="s2">* 1: scattering due to non-uniform bathymetry and currents &quot;</span>
            <span class="s2">&quot;(the latter only if applicable; see command `INPGRID CURRENT`)</span><span class="se">\n</span><span class="s2">* 2: &quot;</span>
            <span class="s2">&quot;wave-current interaction under the assumption of a slowly varying &quot;</span>
            <span class="s2">&quot;bathymetry</span><span class="se">\n\n</span><span class="s2">(SWAN default: 1)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">rfac</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The resolution factor through which the incident spectral width is&quot;</span>
            <span class="s2">&quot;multiplied (SWAN default: 1.0)&quot;</span>
        <span class="p">),</span>
        <span class="n">ge</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">alpha</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;The coefficient by which the mean wave number is multiplied to set the&quot;</span>
            <span class="s2">&quot;limit on the convolution sum (SWAN default: 1.0)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">qmax</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The maximum scattering wave number (in 1/m)&quot;</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SCAT.warn_if_qmax_and_alpha">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SCAT.html#rompy.swan.components.physics.SCAT.warn_if_qmax_and_alpha">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">warn_if_qmax_and_alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SCAT&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">qmax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Both `alpha` and `qmax` options are provided to truncate the &quot;</span>
                <span class="s2">&quot;infinite convolution sum. Their mimimum is considered in SWAN as the &quot;</span>
                <span class="s2">&quot;final limit on the sum&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="SCAT.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.SCAT.html#rompy.swan.components.physics.SCAT.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="s2">&quot;SCAT&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">iqcm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; iqcm=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">iqcm</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rfac</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; GRID rfac=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rfac</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">qmax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="s2">&quot; TRUNC&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; alpha=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">alpha</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">qmax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">repr</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; qmax=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">qmax</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>



<span class="c1"># =====================================================================================</span>
<span class="c1"># OFF</span>
<span class="c1"># =====================================================================================</span>
<div class="viewcode-block" id="OFF">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OFF.html#rompy.swan.components.physics.OFF">[docs]</a>
<span class="k">class</span> <span class="nc">OFF</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deactivate physics commands.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        OFF WINDGROWTH|QUADRUPL|WCAPPING|BREAKING|REFRAC|FSHIFT|BNDCHK</span>

<span class="sd">    This command deactivates physics commands. The command can be used to switch off</span>
<span class="sd">    the computation of a certain physics component without having to remove the command</span>
<span class="sd">    from the input file. This is useful for testing purposes.</span>

<span class="sd">    Examples:</span>
<span class="sd">    ---------</span>

<span class="sd">    .. ipython:: python</span>

<span class="sd">        from rompy.swan.components.physics import OFF</span>
<span class="sd">        off = OFF(physics=&quot;windgrowth&quot;)</span>
<span class="sd">        print(off.render())</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;off&quot;</span><span class="p">,</span> <span class="s2">&quot;OFF&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;off&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">physics</span><span class="p">:</span> <span class="n">PhysicsOff</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Physics command to be switched off&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="OFF.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OFF.html#rompy.swan.components.physics.OFF.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file string for this component.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;OFF </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span></div>
</div>



<div class="viewcode-block" id="OFFS">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OFFS.html#rompy.swan.components.physics.OFFS">[docs]</a>
<span class="k">class</span> <span class="nc">OFFS</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deactivate multiple physics commands.</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        OFF WINDGROWTH|QUADRUPL|WCAPPING|BREAKING|REFRAC|FSHIFT|BNDCHK</span>
<span class="sd">        OFF WINDGROWTH|QUADRUPL|WCAPPING|BREAKING|REFRAC|FSHIFT|BNDCHK</span>
<span class="sd">        .</span>

<span class="sd">    This group component is a convenience to allow defining and rendering</span>
<span class="sd">    a list of `OFF` components.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. ipython:: python</span>
<span class="sd">        :okwarning:</span>

<span class="sd">        from rompy.swan.components.physics import OFFS</span>
<span class="sd">        off1 = dict(physics=&quot;windgrowth&quot;)</span>
<span class="sd">        off2 = dict(physics=&quot;wcapping&quot;)</span>
<span class="sd">        offs = OFFS(offs=[off1, off2])</span>
<span class="sd">        for off in offs.render():</span>
<span class="sd">            print(off)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;offs&quot;</span><span class="p">,</span> <span class="s2">&quot;OFFS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;offs&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Model type discriminator&quot;</span>
    <span class="p">)</span>
    <span class="n">offs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OFF</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Physics commands to deactivate&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="OFFS.cmd">
<a class="viewcode-back" href="../../../../swan/components/_generated/rompy.swan.components.physics.OFFS.html#rompy.swan.components.physics.OFFS.cmd">[docs]</a>
    <span class="k">def</span> <span class="nf">cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Command file strings for this component.&quot;&quot;&quot;</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">off</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">offs</span><span class="p">:</span>
            <span class="nb">repr</span> <span class="o">+=</span> <span class="p">[</span><span class="n">off</span><span class="o">.</span><span class="n">cmd</span><span class="p">()]</span>
        <span class="k">return</span> <span class="nb">repr</span></div>
</div>

</pre></div>

                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2021, CSIRO and rompy contributors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>